define("infomanager",[],function(){var a=Class.extend({init:function(a){this.game=a,this.infos={},this.destroyQueue=[]},addDamageInfo:function(a,b,d,e,f){var g=this.game.currentTime,h=g+""+(isNaN(a*1)?a:a*1)+""+b+""+d,i=this,j=new c(h,a,b,d,f?f:1e3,e);j.onDestroy(function(a){i.destroyQueue.push(a)}),this.infos[h]=j},forEachInfo:function(a){var b=this;_.each(this.infos,function(b,c){a(b)})},update:function(a){var b=this;this.forEachInfo(function(b){b.update(a)}),_.each(this.destroyQueue,function(a){delete b.infos[a]}),this.destroyQueue=[]}}),b={received:{fill:"rgb(255, 50, 50)",stroke:"rgb(255, 180, 180)"},inflicted:{fill:"white",stroke:"#373737"},healed:{fill:"rgb(80, 255, 80)",stroke:"rgb(50, 120, 50)"},health:{fill:"white",stroke:"#373737"},exp:{fill:"rgb(80, 80, 255)",stroke:"rgb(50, 50, 255)"}},c=Class.extend({DURATION:1e3,init:function(a,c,d,e,f,g){this.id=a,this.value=c,this.duration=f,this.x=d,this.y=e,this.opacity=1,this.lastTime=0,this.speed=100,this.fillColor=b[g].fill,this.strokeColor=b[g].stroke},isTimeToAnimate:function(a){return a-this.lastTime>this.speed},update:function(a){this.isTimeToAnimate(a)&&(this.lastTime=a,this.tick())},tick:function(){this.type!=="health"&&(this.y-=1),this.opacity-=70/this.duration,this.opacity<0&&this.destroy()},onDestroy:function(a){this.destroy_callback=a},destroy:function(){this.destroy_callback&&this.destroy_callback(this.id)}});return a}),define("timer",[],function(){var a=Class.extend({init:function(a,b){this.lastTime=b||0,this.duration=a},isOver:function(a){var b=!1;a-this.lastTime>this.duration&&(b=!0,this.lastTime=a);return b}});return a}),define("bubble",["jquery","timer"],function(a,b){var c=Class.extend({init:function(a,c,d){this.id=a,this.element=c,this.timer=new b(5e3,d)},isOver:function(a){return this.timer.isOver(a)?!0:!1},destroy:function(){a(this.element).remove()},reset:function(a){this.timer.lastTime=a}}),d=Class.extend({init:function(a){this.container=a,this.bubbles={}},getBubbleById:function(a){return a in this.bubbles?this.bubbles[a]:null},create:function(b,d,e){if(this.bubbles[b])this.bubbles[b].reset(e),a("#"+b+" p").html(d);else{var f=a('<div id="'+b+'" class="bubble"><p>'+d+'</p><div class="thingy"></div></div>');a(f).appendTo(this.container),this.bubbles[b]=new c(b,f,e)}},update:function(a){var b=this,c=[];_.each(this.bubbles,function(b){b.isOver(a)&&(b.destroy(),c.push(b.id))}),_.each(c,function(a){delete b.bubbles[a]})},clean:function(){var a=this,b=[];_.each(this.bubbles,function(a){a.destroy(),b.push(a.id)}),_.each(b,function(b){delete a.bubbles[b]}),this.bubbles={}},destroyBubble:function(a){var b=this.getBubbleById(a);b&&(b.destroy(),delete this.bubbles[a])},forEachBubble:function(a){_.each(this.bubbles,function(b){a(b)})}});return d}),define("camera",[],function(){var a=Class.extend({init:function(a){this.renderer=a,this.x=0,this.y=0,this.gridX=0,this.gridY=0,this.offset=.5,this.rescale()},rescale:function(){var a=this.renderer.mobile?1:2;this.gridW=15*a,this.gridH=7*a,log.debug("---------"),log.debug("Factor:"+a),log.debug("W:"+this.gridW+" H:"+this.gridH)},setPosition:function(a,b){this.x=a,this.y=b,this.gridX=Math.floor(a/16),this.gridY=Math.floor(b/16)},setGridPosition:function(a,b){this.gridX=a,this.gridY=b,this.x=this.gridX*16,this.y=this.gridY*16},lookAt:function(a){var b=this.renderer,c=Math.round(a.x-Math.floor(this.gridW/2)*b.tilesize),d=Math.round(a.y-Math.floor(this.gridH/2)*b.tilesize);this.setPosition(c,d)},forEachVisiblePosition:function(a,b){var b=b||0;for(var c=this.gridY-b,d=this.gridY+this.gridH+b*2;c<d;c+=1)for(var e=this.gridX-b,f=this.gridX+this.gridW+b*2;e<f;e+=1)a(e,c)},isVisible:function(a){return this.isVisiblePosition(a.gridX,a.gridY)},isVisiblePosition:function(a,b){return b>=this.gridY&&b<this.gridY+this.gridH&&a>=this.gridX&&a<this.gridX+this.gridW?!0:!1},focusEntity:function(a){var b=this.gridW-2,c=this.gridH-2,d=Math.floor((a.gridX-1)/b)*b,e=Math.floor((a.gridY-1)/c)*c;this.setGridPosition(d,e)}});return a}),define("entity",[],function(){var a=Class.extend({init:function(a,b){var c=this;this.id=a,this.kind=b,this.sprite=null,this.flipSpriteX=!1,this.flipSpriteY=!1,this.animations=null,this.currentAnimation=null,this.shadowOffsetY=0,this.setGridPosition(0,0),this.isLoaded=!1,this.isHighlighted=!1,this.visible=!0,this.isFading=!1,this.setDirty()},setName:function(a){this.name=a},setPosition:function(a,b){this.x=a,this.y=b},setGridPosition:function(a,b){this.gridX=a,this.gridY=b,this.setPosition(a*16,b*16)},setSprite:function(a){if(!a){log.error(this.id+" : sprite is null",!0);throw"Error"}if(!this.sprite||this.sprite.name!==a.name){this.sprite=a,this.normalSprite=this.sprite;if(Types.isMob(this.kind)||Types.isPlayer(this.kind))this.hurtSprite=a.getHurtSprite();this.animations=a.createAnimations(),this.isLoaded=!0,this.ready_func&&this.ready_func()}},getSprite:function(){return this.sprite},getSpriteName:function(){return Types.getKindAsString(this.kind)},getAnimationByName:function(a){var b=null;a in this.animations?b=this.animations[a]:log.error("No animation called "+a);return b},setAnimation:function(a,b,c,d){var e=this;if(this.isLoaded){if(this.currentAnimation&&this.currentAnimation.name===a)return;var f=this.sprite,g=this.getAnimationByName(a);g&&(this.currentAnimation=g,a.substr(0,3)==="atk"&&this.currentAnimation.reset(),this.currentAnimation.setSpeed(b),this.currentAnimation.setCount(c?c:0,d||function(){e.idle()}))}else this.log_error("Not ready for animation")},hasShadow:function(){return!1},ready:function(a){this.ready_func=a},clean:function(){this.stopBlinking()},log_info:function(a){log.info("["+this.id+"] "+a)},log_error:function(a){log.error("["+this.id+"] "+a)},setHighlight:function(a){a===!0?(this.sprite=this.sprite.silhouetteSprite,this.isHighlighted=!0):(this.sprite=this.normalSprite,this.isHighlighted=!1)},setVisible:function(a){this.visible=a},isVisible:function(){return this.visible},toggleVisibility:function(){this.visible?this.setVisible(!1):this.setVisible(!0)},getDistanceToEntity:function(a){var b=Math.abs(a.gridX-this.gridX),c=Math.abs(a.gridY-this.gridY);return b>c?b:c},isCloseTo:function(a){var b,c,d,e=!1;a&&(b=Math.abs(a.gridX-this.gridX),c=Math.abs(a.gridY-this.gridY),b<30&&c<14&&(e=!0));return e},isAdjacent:function(a){var b=!1;a&&(b=this.getDistanceToEntity(a)>1?!1:!0);return b},isAdjacentNonDiagonal:function(a){var b=!1;this.isAdjacent(a)&&(this.gridX===a.gridX||this.gridY===a.gridY)&&(b=!0);return b},isDiagonallyAdjacent:function(a){return this.isAdjacent(a)&&!this.isAdjacentNonDiagonal(a)},forEachAdjacentNonDiagonalPosition:function(a){a(this.gridX-1,this.gridY,Types.Orientations.LEFT),a(this.gridX,this.gridY-1,Types.Orientations.UP),a(this.gridX+1,this.gridY,Types.Orientations.RIGHT),a(this.gridX,this.gridY+1,Types.Orientations.DOWN)},fadeIn:function(a){this.isFading=!0,this.startFadingTime=a},blink:function(a,b){var c=this;this.blinking=setInterval(function(){c.toggleVisibility()},a)},stopBlinking:function(){this.blinking&&clearInterval(this.blinking),this.setVisible(!0)},setDirty:function(){this.isDirty=!0,this.dirty_callback&&this.dirty_callback(this)},onDirty:function(a){this.dirty_callback=a}});return a}),define("item",["entity"],function(a){var b=a.extend({init:function(a,b,c){this._super(a,b),this.itemKind=Types.getKindAsString(b),this.type=c,this.wasDropped=!1},hasShadow:function(){return!0},onLoot:function(a){this.type==="weapon"&&a.switchWeapon(this.itemKind)},getSpriteName:function(){return"item-"+this.itemKind},getLootMessage:function(){return this.lootMessage}});return b}),define("transition",[],function(){var a=Class.extend({init:function(){this.startValue=0,this.endValue=0,this.duration=0,this.inProgress=!1},start:function(a,b,c,d,e,f){this.startTime=a,this.updateFunction=b,this.stopFunction=c,this.startValue=d,this.endValue=e,this.duration=f,this.inProgress=!0,this.count=0},step:function(a){if(this.inProgress)if(this.count>0)this.count-=1,log.debug(a+": jumped frame");else{var b=a-this.startTime;b>this.duration&&(b=this.duration);var c=this.endValue-this.startValue,d=this.startValue+c/this.duration*b;d=Math.round(d),b===this.duration||d===this.endValue?(this.stop(),this.stopFunction&&this.stopFunction()):this.updateFunction&&this.updateFunction(d)}},restart:function(a,b,c){this.start(a,this.updateFunction,this.stopFunction,b,c,this.duration),this.step(a)},stop:function(){this.inProgress=!1}});return a}),define("character",["entity","transition","timer"],function(a,b,c){var d=a.extend({init:function(a,c){var d=this;this._super(a,c),this.nextGridX=-1,this.nextGridY=-1,this.orientation=Types.Orientations.DOWN,this.atkSpeed=50,this.moveSpeed=120,this.walkSpeed=100,this.idleSpeed=450,this.setAttackRate(800),this.movement=new b,this.path=null,this.newDestination=null,this.adjacentTiles={},this.target=null,this.unconfirmedTarget=null,this.attackers={},this.hitPoints=0,this.maxHitPoints=0,this.isDead=!1,this.attackingMode=!1,this.followingMode=!1,this.inspecting=null},clean:function(){this.forEachAttacker(function(a){a.disengage(),a.idle()})},setMaxHitPoints:function(a){this.maxHitPoints=a,this.hitPoints=a},setDefaultAnimation:function(){this.idle()},hasWeapon:function(){return!1},hasShadow:function(){return!0},animate:function(a,b,c,d){var e=["atk","walk","idle"];o=this.orientation;if(!this.currentAnimation||this.currentAnimation.name!=="death")this.flipSpriteX=!1,this.flipSpriteY=!1,_.indexOf(e,a)>=0&&(a+="_"+(o===Types.Orientations.LEFT?"right":Types.getOrientationAsString(o)),this.flipSpriteX=this.orientation===Types.Orientations.LEFT?!0:!1),this.setAnimation(a,b,c,d)},turnTo:function(a){this.orientation=a,this.idle()},setOrientation:function(a){a&&(this.orientation=a)},idle:function(a){this.setOrientation(a),this.animate("idle",this.idleSpeed)},hit:function(a){this.setOrientation(a),this.animate("atk",this.atkSpeed,1)},walk:function(a){this.setOrientation(a),this.animate("walk",this.walkSpeed)},moveTo_:function(a,b,c){this.destination={gridX:a,gridY:b},this.adjacentTiles={};if(this.isMoving())this.continueTo(a,b);else{var d=this.requestPathfindingTo(a,b);this.followPath(d)}},requestPathfindingTo:function(a,b){if(this.request_path_callback)return this.request_path_callback(a,b);log.error(this.id+" couldn't request pathfinding to "+a+", "+b);return[]},onRequestPath:function(a){this.request_path_callback=a},onStartPathing:function(a){this.start_pathing_callback=a},onStopPathing:function(a){this.stop_pathing_callback=a},followPath:function(a){a.length>1&&(this.path=a,this.step=0,this.followingMode&&a.pop(),this.start_pathing_callback&&this.start_pathing_callback(a),this.nextStep())},continueTo:function(a,b){this.newDestination={x:a,y:b}},updateMovement:function(){var a=this.path,b=this.step;a[b][0]<a[b-1][0]&&this.walk(Types.Orientations.LEFT),a[b][0]>a[b-1][0]&&this.walk(Types.Orientations.RIGHT),a[b][1]<a[b-1][1]&&this.walk(Types.Orientations.UP),a[b][1]>a[b-1][1]&&this.walk(Types.Orientations.DOWN)},updatePositionOnGrid:function(){this.setGridPosition(this.path[this.step][0],this.path[this.step][1])},nextStep:function(){var a=!1,b,c,d;this.isMoving()&&(this.before_step_callback&&this.before_step_callback(),this.updatePositionOnGrid(),this.checkAggro(),this.interrupted?(a=!0,this.interrupted=!1):(this.hasNextStep()&&(this.nextGridX=this.path[this.step+1][0],this.nextGridY=this.path[this.step+1][1]),this.step_callback&&this.step_callback(),this.hasChangedItsPath()?(b=this.newDestination.x,c=this.newDestination.y,d=this.requestPathfindingTo(b,c),this.newDestination=null,d.length<2?a=!0:this.followPath(d)):this.hasNextStep()?(this.step+=1,this.updateMovement()):a=!0),a&&(this.path=null,this.idle(),this.stop_pathing_callback&&this.stop_pathing_callback(this.gridX,this.gridY)))},onBeforeStep:function(a){this.before_step_callback=a},onStep:function(a){this.step_callback=a},isMoving:function(){return this.path!==null},hasNextStep:function(){return this.path.length-1>this.step},hasChangedItsPath:function(){return this.newDestination!==null},isNear:function(a,b){var c,d,e=!1;c=Math.abs(this.gridX-a.gridX),d=Math.abs(this.gridY-a.gridY),c<=b&&d<=b&&(e=!0);return e},onAggro:function(a){this.aggro_callback=a},onCheckAggro:function(a){this.checkaggro_callback=a},checkAggro:function(){this.checkaggro_callback&&this.checkaggro_callback()},aggro:function(a){this.aggro_callback&&this.aggro_callback(a)},onDeath:function(a){this.death_callback=a},lookAtTarget:function(){this.target&&this.turnTo(this.getOrientationTo(this.target))},go:function(a,b){this.isAttacking()?this.disengage():this.followingMode&&(this.followingMode=!1,this.target=null),this.moveTo_(a,b)},follow:function(a){a&&(this.followingMode=!0,this.moveTo_(a.gridX,a.gridY))},stop:function(){this.isMoving()&&(this.interrupted=!0)},engage:function(a){this.attackingMode=!0,this.setTarget(a),this.follow(a)},disengage:function(){this.attackingMode=!1,this.followingMode=!1,this.removeTarget()},isAttacking:function(){return this.attackingMode},getOrientationTo:function(a){return this.gridX<a.gridX?Types.Orientations.RIGHT:this.gridX>a.gridX?Types.Orientations.LEFT:this.gridY>a.gridY?Types.Orientations.UP:Types.Orientations.DOWN},isAttackedBy:function(a){return a.id in this.attackers},addAttacker:function(a){this.isAttackedBy(a)?log.error(this.id+" is already attacked by "+a.id):this.attackers[a.id]=a},removeAttacker:function(a){this.isAttackedBy(a)?delete this.attackers[a.id]:log.error(this.id+" is not attacked by "+a.id)},forEachAttacker:function(a){_.each(this.attackers,function(b){a(b)})},setTarget:function(a){if(this.target!==a){this.hasTarget()&&this.removeTarget(),this.unconfirmedTarget=null,this.target=a;if(this.settarget_callback){var b=Types.getKindAsString(a.kind);this.settarget_callback(a,b)}}else log.debug(a.id+" is already the target of "+this.id)},onSetTarget:function(a){this.settarget_callback=a},showTarget:function(a){if(this.inspecting!==a){this.inspecting=a;if(this.settarget_callback){var b=Types.getKindAsString(a.kind);this.settarget_callback(a,b,!0)}}},removeTarget:function(){var a=this;this.target&&(this.target instanceof d&&this.target.removeAttacker(this),this.removetarget_callback&&this.removetarget_callback(this.target.id),this.target=null)},onRemoveTarget:function(a){this.removetarget_callback=a},hasTarget:function(){return this.target!==null},waitToAttack:function(a){this.unconfirmedTarget=a},isWaitingToAttack:function(a){return this.unconfirmedTarget===a},canAttack:function(a){return this.canReachTarget()&&this.attackCooldown.isOver(a)?!0:!1},canReachTarget:function(){return this.hasTarget()&&this.isAdjacentNonDiagonal(this.target)?!0:!1},die:function(){this.removeTarget(),this.isDead=!0,this.death_callback&&this.death_callback()},onHasMoved:function(a){this.hasmoved_callback=a},hasMoved:function(){this.setDirty(),this.hasmoved_callback&&this.hasmoved_callback(this)},hurt:function(){var a=this;this.stopHurting(),this.sprite=this.hurtSprite,this.hurting=setTimeout(this.stopHurting.bind(this),75)},stopHurting:function(){this.sprite=this.normalSprite,clearTimeout(this.hurting)},setAttackRate:function(a){this.attackCooldown=new c(a)}});return d}),define("exceptions",[],function(){var a={LootException:Class.extend({init:function(a){this.message=a}})};return a}),define("player",["character","exceptions"],function(a,b){var c=a.extend({MAX_LEVEL:10,init:function(a,b,c,d){this._super(a,d),this.name=b,this.pw=c,this.nameOffsetY=-10,this.spriteName="clotharmor",this.armorName="clotharmor",this.weaponName="sword1",this.inventory=[],this.isLootMoving=!1,this.isSwitchingWeapon=!0,this.pvpFlag=!1,this.invincible=!1},loot:function(a){if(a){var c,d,e,f;f=this.spriteName;if(a.type==="weapon"){c=Types.getWeaponRank(a.kind),d=Types.getWeaponRank(Types.getKindFromString(this.weaponName)),e="You are wielding a better weapon";if(c&&d){if(c===d)throw new b.LootException("You already have this "+a.type);if(c<=d)throw new b.LootException(e)}}else a.type==="armor"&&this.setInventory(a.kind,0);log.info("Player "+this.id+" has looted "+a.id),Types.isArmor(a.kind)&&this.invincible&&this.stopInvincibility(),a.onLoot(this)}},setInventory:function(a,b){b===0?this.inventory[0]?this.inventory[1]=a:this.inventory[0]=a:b===1&&(this.inventory[1]=a)},makeEmptyInventory:function(a){if(a===0||a===1)this.inventory[a]=null},isMovingToLoot:function(){return this.isLootMoving},getSpriteName:function(){return this.spriteName},setSpriteName:function(a){a&&(this.spriteName=a)},getArmorName:function(){return this.armorName},getArmorSprite:function(){return this.sprite},setArmorName:function(a){this.armorName=a},getWeaponName:function(){return this.weaponName},setWeaponName:function(a){this.weaponName=a},hasWeapon:function(){return this.weaponName!==null},setBenef:function(a){a===Types.Entities.FIREBENEF?this.startInvincibility():this.stopInvincibility()},equipFromInventory:function(a,b,c){var d=Types.getKindAsString(this.inventory[b]);if(d){var e=c[d];e&&(a==="armor"?(this.inventory[b]=Types.getKindFromString(this.getArmorName()),this.setSpriteName(d),this.setSprite(e),this.setArmorName(d)):a==="avatar"&&(this.inventory[b]=null,this.setSpriteName(d),this.setSprite(e)))}},switchWeapon:function(a){var b=14,c=!1,d=this,e=function(){c=!c;return c};if(a!==this.getWeaponName()){this.isSwitchingWeapon&&clearInterval(f),this.switchingWeapon=!0;var f=setInterval(function(){e()?d.setWeaponName(a):d.setWeaponName(null),b-=1,b===1&&(clearInterval(f),d.switchingWeapon=!1,d.switch_callback&&d.switch_callback())},90)}},onSwitchItem:function(a){this.switch_callback=a},onInvincible:function(a){this.invincible_callback=a},startInvincibility:function(){var a=this;this.invincible?this.invincibleTimeout&&clearTimeout(this.invincibleTimeout):(this.invincible=!0,this.invincible_callback&&this.invincible_callback()),this.invincibleTimeout=setTimeout(function(){a.stopInvincibility(),a.idle()},15e3)},stopInvincibility:function(){this.invincible_callback&&this.invincible_callback(),this.invincible=!1,this.invincibleTimeout&&clearTimeout(this.invincibleTimeout)},flagPVP:function(a){this.pvpFlag=a}});return c}),define("renderer",["camera","item","character","player","timer"],function(a,b,c,d,e){var f=Class.extend({init:function(a,b,c,d){this.game=a,this.context=b&&b.getContext?b.getContext("2d"):null,this.background=c&&c.getContext?c.getContext("2d"):null,this.foreground=d&&d.getContext?d.getContext("2d"):null,this.canvas=b,this.backcanvas=c,this.forecanvas=d,this.initFPS(),this.tilesize=16,this.upscaledRendering=this.context.mozImageSmoothingEnabled!==undefined,this.supportsSilhouettes=this.upscaledRendering,this.rescale(this.getScaleFactor()),this.lastTime=new Date,this.frameCount=0,this.maxFPS=this.FPS,this.realFPS=0,this.isDebugInfoVisible=!1,this.animatedTileCount=0,this.highTileCount=0,this.tablet=Detect.isTablet(window.innerWidth),this.fixFlickeringTimer=new e(100)},getWidth:function(){return this.canvas.width},getHeight:function(){return this.canvas.height},setTileset:function(a){this.tileset=a},getScaleFactor:function(){var a=window.innerWidth,b=window.innerHeight,c;this.mobile=!1,a<=1e3?(c=2,this.mobile=!0):a<=1500||b<=870?c=2:c=3;return c},rescale:function(a){this.scale=this.getScaleFactor(),this.createCamera(),this.context.mozImageSmoothingEnabled=!1,this.background.mozImageSmoothingEnabled=!1,this.foreground.mozImageSmoothingEnabled=!1,this.initFont(),this.initFPS(),!this.upscaledRendering&&this.game.map&&this.game.map.tilesets&&this.setTileset(this.game.map.tilesets[this.scale-1]),this.game.renderer&&this.game.setSpriteScale(this.scale)},createCamera:function(){this.camera=new a(this),this.camera.rescale(),this.canvas.width=this.camera.gridW*this.tilesize*this.scale,this.canvas.height=this.camera.gridH*this.tilesize*this.scale,log.debug("#entities set to "+this.canvas.width+" x "+this.canvas.height),this.backcanvas.width=this.canvas.width,this.backcanvas.height=this.canvas.height,log.debug("#background set to "+this.backcanvas.width+" x "+this.backcanvas.height),this.forecanvas.width=this.canvas.width,this.forecanvas.height=this.canvas.height,log.debug("#foreground set to "+this.forecanvas.width+" x "+this.forecanvas.height)},initFPS:function(){this.FPS=this.mobile?50:50},initFont:function(){var a;switch(this.scale){case 1:a=10;break;case 2:a=Detect.isWindows()?10:13;break;case 3:a=20}this.setFontSize(a)},setFontSize:function(a){var b=a+"px GraphicPixel";this.context.font=b,this.background.font=b},drawText:function(a,b,c,d,e,f){var g=this.context,h;switch(this.scale){case 1:h=3;break;case 2:h=3;break;case 3:h=5}a&&b&&c&&(g.save(),d&&(g.textAlign="center"),g.strokeStyle=f||"#373737",g.lineWidth=h,g.strokeText(a,b,c),g.fillStyle=e||"white",g.fillText(a,b,c),g.restore())},drawCellRect:function(a,b,c){this.context.save(),this.context.lineWidth=2*this.scale,this.context.strokeStyle=c,this.context.translate(a+2,b+2),this.context.strokeRect(0,0,this.tilesize*this.scale-4,this.tilesize*this.scale-4),this.context.restore()},drawRectStroke:function(a,b,c,d,e){this.context.fillStyle=e,this.context.fillRect(a,b,this.tilesize*this.scale*c,this.tilesize*this.scale*d),this.context.fill(),this.context.lineWidth=5,this.context.strokeStyle="black",this.context.strokeRect(a,b,this.tilesize*this.scale*c,this.tilesize*this.scale*d)},drawRect:function(a,b,c,d,e){this.context.fillStyle=e,this.context.fillRect(a,b,this.tilesize*this.scale*c,this.tilesize*this.scale*d)},drawCellHighlight:function(a,b,c){var d=this.scale,e=this.tilesize,f=a*e*d,g=b*e*d;this.drawCellRect(f,g,c)},drawTargetCell:function(){var a=this.game.getMouseGridPosition();this.game.targetCellVisible&&(a.x!==this.game.selectedX||a.y!==this.game.selectedY)&&this.drawCellHighlight(a.x,a.y,this.game.targetColor)},drawAttackTargetCell:function(){var a=this.game.getMouseGridPosition(),b=this.game.getEntityAt(a.x,a.y),c=this.scale;b&&this.drawCellRect(b.x*c,b.y*c,"rgba(255, 0, 0, 0.5)")},drawOccupiedCells:function(){var a=this.game.entityGrid;if(a)for(var b=0;b<a.length;b+=1)for(var c=0;c<a[b].length;c+=1)_.isNull(a[b][c])||this.drawCellHighlight(b,c,"rgba(50, 50, 255, 0.5)")},drawPathingCells:function(){var a=this.game.pathingGrid;if(a&&this.game.debugPathing)for(var b=0;b<a.length;b+=1)for(var c=0;c<a[b].length;c+=1)a[b][c]===1&&this.game.camera.isVisiblePosition(c,b)&&this.drawCellHighlight(c,b,"rgba(50, 50, 255, 0.5)")},drawSelectedCell:function(){var a=this.game.cursors.target,b=this.game.targetAnimation,c=this.upscaledRendering?1:this.scale,d=this.upscaledRendering?this.scale:1;if(this.game.selectedCellVisible)if(this.mobile||this.tablet){if(this.game.drawTarget){var e=this.game.selectedX,f=this.game.selectedY;this.drawCellHighlight(this.game.selectedX,this.game.selectedY,"rgb(51, 255, 0)"),this.lastTargetPos={x:e,y:f},this.game.drawTarget=!1}}else if(a&&b){var g=b.currentFrame,h=this.scale,e=g.x*c,f=g.y*c,i=a.width*c,j=a.height*c,k=16,l=this.game.selectedX*k*h,m=this.game.selectedY*k*h,n=i*d,o=j*d;this.context.save(),this.context.translate(l,m),this.context.drawImage(a.image,e,f,i,j,0,0,n,o),this.context.restore()}},clearScaledRect:function(a,b,c,d,e){var f=this.scale;a.clearRect(b*f,c*f,d*f,e*f)},drawCursor:function(){var a=this.game.mouse.x,b=this.game.mouse.y,c=this.scale,d=this.upscaledRendering?1:this.scale;this.context.save(),this.game.currentCursor&&this.game.currentCursor.isLoaded&&this.context.drawImage(this.game.currentCursor.image,0,0,14*d,14*d,a,b,14*c,14*c),this.context.restore()},drawScaledImage:function(a,b,c,d,e,f,g,h){var i=this.upscaledRendering?1:this.scale;_.each(arguments,function(a){if(_.isUndefined(a)||_.isNaN(a)||_.isNull(a)||a<0){log.error("x:"+c+" y:"+d+" w:"+e+" h:"+f+" dx:"+g+" dy:"+h,!0);throw Error("A problem occured when trying to draw on the canvas")}}),a.drawImage(b,c*i,d*i,e*i,f*i,g*this.scale,h*this.scale,e*this.scale,f*this.scale)},drawTile:function(a,b,c,d,e,f){var h=this.upscaledRendering?1:this.scale;b!==-1&&this.drawScaledImage(a,c,g(b+1,d/h)*this.tilesize,Math.floor(b/(d/h))*this.tilesize,this.tilesize,this.tilesize,g(f+1,e)*this.tilesize,Math.floor(f/e)*this.tilesize)},clearTile:function(a,b,c){var d=this.scale,e=this.tilesize,f=g(c+1,b)*e*d,h=Math.floor(c/b)*e*d,i=e*d,j=i;a.clearRect(f,h,j,i)},drawEntity:function(a){var d=a.sprite,e=this.game.shadows.small,f=a.currentAnimation,g=this.upscaledRendering?1:this.scale,h=this.upscaledRendering?this.scale:1;if(f&&d){var i=f.currentFrame,j=this.scale,k=i.x*g,l=i.y*g,m=d.width*g,n=d.height*g,o=d.offsetX*j,p=d.offsetY*j,q=a.x*j,r=a.y*j,s=m*h,t=n*h;a.isFading&&(this.context.save(),this.context.globalAlpha=a.fadingAlpha),!this.mobile&&!this.tablet&&this.drawEntityName(a),this.context.save(),a.flipSpriteX?(this.context.translate(q+this.tilesize*j,r),this.context.scale(-1,1)):a.flipSpriteY?(this.context.translate(q,r+t),this.context.scale(1,-1)):this.context.translate(q,r);if(a.isVisible()){a.hasShadow()&&this.context.drawImage(e.image,0,0,e.width*g,e.height*g,0,a.shadowOffsetY*h,e.width*g*h,e.height*g*h);if(a.invincible){var u=this.game.sprites.firebenef;if(u){var v=u.animationData[f.name];if(v){var w=this.game.benefAnimation.currentFrame.index<v.length?this.game.benefAnimation.currentFrame.index:this.game.benefAnimation.currentFrame.index%v.length,x=u.width*w*g,y=u.height*v.row*g,z=u.width*g,A=u.height*g;this.context.drawImage(u.image,x,y,z,A,u.offsetX*j,u.offsetY*j,z*h,A*h)}}}this.context.drawImage(d.image,k,l,m,n,o,p,s,t);if(a instanceof b&&a.kind!==Types.Entities.CAKE){var B=this.game.sprites.sparks,f=this.game.sparksAnimation,i=f.currentFrame,C=B.width*i.index*g,D=B.height*f.row*g,E=B.width*g,F=B.width*g;this.context.drawImage(B.image,C,D,E,F,B.offsetX*j,B.offsetY*j,E*h,F*h)}}if(a instanceof c&&!a.isDead&&a.hasWeapon()){var G=this.game.sprites[a.getWeaponName()];if(G){var H=G.animationData[f.name],w=i.index<H.length?i.index:i.index%H.length;wx=G.width*w*g,wy=G.height*f.row*g,ww=G.width*g,wh=G.height*g,this.context.drawImage(G.image,wx,wy,ww,wh,G.offsetX*j,G.offsetY*j,ww*h,wh*h)}}this.context.restore(),a.isFading&&this.context.restore()}},drawEntities:function(a){var b=this;this.game.forEachVisibleEntityByDepth(function(c){c.isLoaded&&(a?c.isDirty&&(b.drawEntity(c),c.isDirty=!1,c.oldDirtyRect=c.dirtyRect,c.dirtyRect=null):b.drawEntity(c))})},drawDirtyEntities:function(){this.drawEntities(!0)},clearDirtyRect:function(a){this.context.clearRect(a.x,a.y,a.w,a.h)},clearDirtyRects:function(){var a=this,b=0;this.game.forEachVisibleEntityByDepth(function(c){c.isDirty&&c.oldDirtyRect&&(a.clearDirtyRect(c.oldDirtyRect),b+=1)}),this.game.forEachAnimatedTile(function(c){c.isDirty&&(a.clearDirtyRect(c.dirtyRect),b+=1)});if(this.game.clearTarget&&this.lastTargetPos){var c=this.lastTargetPos;rect=this.getTargetBoundingRect(c.x,c.y),this.clearDirtyRect(rect),this.game.clearTarget=!1,b+=1}!(b>0)},getEntityBoundingRect:function(a){var b={},c=this.scale,e;if(a instanceof d&&a.hasWeapon()){var f=this.game.sprites[a.getWeaponName()];e=f}else e=a.sprite;e&&(b.x=(a.x+e.offsetX-this.camera.x)*c,b.y=(a.y+e.offsetY-this.camera.y)*c,b.w=e.width*c,b.h=e.height*c,b.left=b.x,b.right=b.x+b.w,b.top=b.y,b.bottom=b.y+b.h);return b},getTileBoundingRect:function(a){var b={},c=this.game.map.width,d=this.scale,e=this.tilesize,f=a.index;b.x=(g(f+1,c)*e-this.camera.x)*d,b.y=(Math.floor(f/c)*e-this.camera.y)*d,b.w=e*d,b.h=e*d,b.left=b.x,b.right=b.x+b.w,b.top=b.y,b.bottom=b.y+b.h;return b},getTargetBoundingRect:function(a,b){var c={},d=this.scale,e=this.tilesize,f=a||this.game.selectedX,g=b||this.game.selectedY;c.x=(f*e-this.camera.x)*d,c.y=(g*e-this.camera.y)*d,c.w=e*d,c.h=e*d,c.left=c.x,c.right=c.x+c.w,c.top=c.y,c.bottom=c.y+c.h;return c},isIntersecting:function(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)},drawEntityName:function(a){this.context.save();if(a.name&&a instanceof d){var b=a.id===this.game.playerId?"#fcda5c":"white",c=a.id===this.game.playerId?"lv."+a.level+" "+a.name:a.name;this.drawText(c,(a.x+8)*this.scale,(a.y+a.nameOffsetY)*this.scale,!0,b)}this.context.restore()},drawTerrain:function(){var a=this,b=this.game.map,c=this.tileset.width/b.tilesize;this.game.forEachVisibleTile(function(d,e){!b.isHighTile(d)&&!b.isAnimatedTile(d)&&a.drawTile(a.background,d,a.tileset,c,b.width,e)},1)},drawAnimatedTiles:function(a){var b=this,c=this.game.map,d=this.tileset.width/c.tilesize;this.animatedTileCount=0,this.game.forEachAnimatedTile(function(e){a?e.isDirty&&(b.drawTile(b.context,e.id,b.tileset,d,c.width,e.index),e.isDirty=!1):(b.drawTile(b.context,e.id,b.tileset,d,c.width,e.index),b.animatedTileCount+=1)})},drawDirtyAnimatedTiles:function(){this.drawAnimatedTiles(!0)},drawHighTiles:function(a){var b=this,c=this.game.map,d=this.tileset.width/c.tilesize;this.highTileCount=0,this.game.forEachVisibleTile(function(e,f){c.isHighTile(e)&&(b.drawTile(a,e,b.tileset,d,c.width,f),b.highTileCount+=1)},1)},drawBackground:function(a,b){a.fillStyle=b,a.fillRect(0,0,this.canvas.width,this.canvas.height)},drawFPS:function(){var a=new Date,b=a.getTime()-this.lastTime.getTime();b>=1e3&&(this.realFPS=this.frameCount,this.frameCount=0,this.lastTime=a),this.frameCount++,this.drawText("FPS: "+this.realFPS,30,30,!1)},drawDebugInfo:function(){this.isDebugInfoVisible&&(this.drawFPS(),this.drawText("A: "+this.animatedTileCount,100,30,!1),this.drawText("H: "+this.highTileCount,140,30,!1))},drawCombatInfo:function(){var a=this;switch(this.scale){case 2:this.setFontSize(20);break;case 3:this.setFontSize(30)}this.game.infoManager.forEachInfo(function(b){a.context.save(),a.context.globalAlpha=b.opacity,a.drawText(b.value,(b.x+8)*a.scale,Math.floor(b.y*a.scale),!0,b.fillColor,b.strokeColor),a.context.restore()}),this.initFont()},drawItemInfo:function(){var a=this,b=this.scale,c=this.upscaledRendering?this.scale:1,d=this.upscaledRendering?1:this.scale;this.context.save(),this.context.translate(this.camera.x*b,this.camera.y*b),this.drawRectStroke(8,8,29,4,"rgba(142, 214, 255, 0.8)"),Types.forEachArmorKind(function(e,f){var g=a.game.sprites[f];if(g){var h=g.animationData.idle_down;if(h){var i=g.width*0*d,j=g.height*h.row*d,k=g.width*d,l=g.height*d,m=Types.getArmorRank(e);if(m>Types.getArmorRank(Types.Entities.NINJAARMOR))return;a.context.drawImage(g.image,i,j,k,l,g.offsetX*b+(m%14*4+2)*a.tilesize,g.offsetY*b+(Math.floor(m/14)*3+2)*a.tilesize,k*c,l*c)}}}),Types.forEachWeaponKind(function(e,f){var g=a.game.sprites[f];if(g){var h=g.animationData.idle_down;if(h){var i=g.width*0*d,j=g.height*h.row*d,k=g.width*d,l=g.height*d,m=Types.getWeaponRank(e);if(m>Types.getWeaponRank(Types.Entities.WHIP))return;a.context.drawImage(g.image,i,j,k,l,g.offsetX*b+(m%14*4+2)*a.tilesize,g.offsetY*b+(Math.floor(m/14)*3+2)*a.tilesize,k*c,l*c)}}}),this.context.restore()},drawInventory:function(){var a=this.scale;this.context.save(),this.context.translate(this.camera.x*a,this.camera.y*a),this.drawRect((this.camera.gridW-2)*this.tilesize*a,(this.camera.gridH-1)*this.tilesize*a,2,1,"rgba(0, 0, 0, 0.8)"),this.game.menu&&this.game.menu.inventoryOn==="inventory0"?this.drawRect((this.camera.gridW-2)*this.tilesize*a,(this.camera.gridH-1)*this.tilesize*a,1,1,"rgba(255, 0, 0, 0.8)"):this.game.menu&&this.game.menu.inventoryOn==="inventory1"&&this.drawRect((this.camera.gridW-1)*this.tilesize*a,(this.camera.gridH-1)*this.tilesize*a,1,1,"rgba(255, 0, 0, 0.8)"),this._drawInventory(0),this._drawInventory(1),this.drawInventoryMenu(),this.context.restore()},_drawInventory:function(a){var b=this,c=this.scale,d=this.upscaledRendering?this.scale:1,e=this.upscaledRendering?1:this.scale,f=null;this.game.player&&(f=this.game.player.inventory);if(f&&f[a]){var g=this.game.sprites["item-"+Types.getKindAsString(f[a])];if(g){var h=g.animationData.idle;if(h){var i=g.width*0*e,j=g.height*h.row*e,k=g.width*e,l=g.height*e;b.context.drawImage(g.image,i,j,k,l,g.offsetX*c+(this.camera.gridW-2+a)*b.tilesize*c,g.offsetY*c+(this.camera.gridH-1)*b.tilesize*c,k*d,l*d)}}}},drawInventoryMenu:function(){var a=this.scale;this.game.menu&&this.game.menu.inventoryOn&&(this.drawRect((this.camera.gridW-2)*this.tilesize*a,(this.camera.gridH-4)*this.tilesize*a,2,3,"rgba(0, 0, 0, 0.8)"),this.drawText("착용",(this.camera.gridW-1)*this.tilesize*a,(this.camera.gridH-3.4)*this.tilesize*a,!0,"white","black"),this.drawText("외형 변경",(this.camera.gridW-1)*this.tilesize*a,(this.camera.gridH-2.4)*this.tilesize*a,!0,"white","black"),this.drawText("버리기",(this.camera.gridW-1)*this.tilesize*a,(this.camera.gridH-1.4)*this.tilesize*a,!0,"white","black"))},setCameraView:function(a){a.translate(-this.camera.x*this.scale,-this.camera.y*this.scale)},clearScreen:function(a){a.clearRect(0,0,this.canvas.width,this.canvas.height)},getPlayerImage:function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c=this.upscaledRendering?1:this.scale,d=this.game.player,e=d.getArmorSprite(),f=e.animationData.idle_down,g=f.row,h=e.width*c,i=e.height*c,j=g*i,k=this.game.sprites[this.game.player.getWeaponName()],l=k.width*c,m=k.height*c,n=m*g,o=(k.offsetX-e.offsetX)*c,p=(k.offsetY-e.offsetY)*c,q=this.game.shadows.small,r=q.width*c,s=q.height*c,t=-e.offsetX*c;oy=-e.offsetY*c,a.width=h,a.height=i,b.clearRect(0,0,h,i),b.drawImage(q.image,0,0,r,s,t,oy,r,s),b.drawImage(e.image,0,j,h,i,0,0,h,i),b.drawImage(k.image,0,n,l,m,o,p,l,m);return a.toDataURL("image/png")},renderStaticCanvases:function(){this.background.save(),this.setCameraView(this.background),this.drawTerrain(),this.background.restore();if(this.mobile||this.tablet)this.clearScreen(this.foreground),this.foreground.save(),this.setCameraView(this.foreground),this.drawHighTiles(this.foreground),this.foreground.restore()},renderFrame:function(){this.mobile||this.tablet?this.renderFrameMobile():this.renderFrameDesktop()},renderFrameDesktop:function(){this.clearScreen(this.context),this.context.save(),this.setCameraView(this.context),this.drawAnimatedTiles(),this.game.started&&(this.drawSelectedCell(),this.drawTargetCell()),this.drawPathingCells(),this.drawEntities(),this.drawCombatInfo(),this.drawHighTiles(this.context),this.game.itemInfoOn&&this.drawItemInfo(),this.drawInventory(),this.context.restore(),this.drawCursor(),this.drawDebugInfo()},renderFrameMobile:function(){this.clearDirtyRects(),this.preventFlickeringBug(),this.context.save(),this.setCameraView(this.context),this.drawDirtyAnimatedTiles(),this.drawSelectedCell(),this.drawDirtyEntities(),this.context.restore()},preventFlickeringBug:function(){this.fixFlickeringTimer.isOver(this.game.currentTime)&&(this.background.fillRect(0,0,0,0),this.context.fillRect(0,0,0,0),this.foreground.fillRect(0,0,0,0))}}),g=function(a,b){return a==0?0:a%b==0?b-1:a%b-1};return f}),define("area",[],function(){var a=Class.extend({init:function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},contains:function(a){return a?a.gridX>=this.x&&a.gridY>=this.y&&a.gridX<this.x+this.width&&a.gridY<this.y+this.height:!1}});return a}),define("map",["jquery","area"],function(a,b){var c=Class.extend({init:function(a,b){this.game=b,this.data=[],this.isLoaded=!1,this.tilesetsLoaded=!1,this.mapLoaded=!1,this.loadMultiTilesheets=a;var c=!this.game.renderer.mobile&&!this.game.renderer.tablet;this._loadMap(c),this._initTilesets()},_checkReady:function(){this.tilesetsLoaded&&this.mapLoaded&&(this.isLoaded=!0,this.ready_func&&this.ready_func())},_loadMap:function(b){var c=this,d="maps/world_client.json";if(b){log.info("Loading map with web worker.");var e=new Worker("js/mapworker.js");e.postMessage(1),e.onmessage=function(a){var b=a.data;c._initMap(b),c.grid=b.grid,c.plateauGrid=b.plateauGrid,c.mapLoaded=!0,c._checkReady()}}else log.info("Loading map via Ajax."),a.get(d,function(a){c._initMap(a),c._generateCollisionGrid(),c._generatePlateauGrid(),c.mapLoaded=!0,c._checkReady()},"json")},_initTilesets:function(){var a,b,c;this.loadMultiTilesheets?this.game.renderer.mobile||this.game.renderer.tablet?(this.tilesetCount=1,b=this._loadTileset("img/2/tilesheet.png")):(this.tilesetCount=2,b=this._loadTileset("img/2/tilesheet.png"),c=this._loadTileset("img/3/tilesheet.png")):(this.tilesetCount=1,a=this._loadTileset("img/1/tilesheet.png")),this.tilesets=[a,b,c]},_initMap:function(a){this.width=a.width,this.height=a.height,this.tilesize=a.tilesize,this.data=a.data,this.blocking=a.blocking||[],this.plateau=a.plateau||[],this.musicAreas=a.musicAreas||[],this.collisions=a.collisions,this.high=a.high,this.animated=a.animated,this.doors=this._getDoors(a),this.checkpoints=this._getCheckpoints(a)},_getDoors:function(a){var b={},c=this;_.each(a.doors,function(a){var d;switch(a.to){case"u":d=Types.Orientations.UP;break;case"d":d=Types.Orientations.DOWN;break;case"l":d=Types.Orientations.LEFT;break;case"r":d=Types.Orientations.RIGHT;break;default:d=Types.Orientations.DOWN}b[c.GridPositionToTileIndex(a.x,a.y)]={x:a.tx,y:a.ty,orientation:d,cameraX:a.tcx,cameraY:a.tcy,portal:a.p===1,level:a.l}});return b},_loadTileset:function(a){var b=this,c=new Image;c.src=a,log.info("Loading tileset: "+a),c.onload=function(){if(c.width%b.tilesize>0)throw Error("Tileset size should be a multiple of "+b.tilesize);log.info("Map tileset loaded."),b.tilesetCount-=1,b.tilesetCount===0&&(log.debug("All map tilesets loaded."),b.tilesetsLoaded=!0,b._checkReady())};return c},ready:function(a){this.ready_func=a},tileIndexToGridPosition:function(a){var b=0,c=0,d=function(a,b){return a==0?0:a%b==0?b-1:a%b-1};a-=1,b=d(a+1,this.width),c=Math.floor(a/this.width);return{x:b,y:c}},GridPositionToTileIndex:function(a,b){return b*this.width+a+1},isColliding:function(a,b){return this.isOutOfBounds(a,b)||!this.grid?!1:this.grid[b][a]===1},isPlateau:function(a,b){return this.isOutOfBounds(a,b)||!this.plateauGrid?!1:this.plateauGrid[b][a]===1},_generateCollisionGrid:function(){var a=0,b=this;this.grid=[];for(var c,d=0;d<this.height;d++){this.grid[d]=[];for(c=0;c<this.width;c++)this.grid[d][c]=0}_.each(this.collisions,function(a){var c=b.tileIndexToGridPosition(a+1);b.grid[c.y][c.x]=1}),_.each(this.blocking,function(a){var c=b.tileIndexToGridPosition(a+1);b.grid[c.y]!==undefined&&(b.grid[c.y][c.x]=1)}),log.info("Collision grid generated.")},_generatePlateauGrid:function(){var a=0;this.plateauGrid=[];for(var b,c=0;c<this.height;c++){this.plateauGrid[c]=[];for(b=0;b<this.width;b++)_.include(this.plateau,a)?this.plateauGrid[c][b]=1:this.plateauGrid[c][b]=0,a+=1}log.info("Plateau grid generated.")},isOutOfBounds:function(a,b){return isInt(a)&&isInt(b)&&(a<0||a>=this.width||b<0||b>=this.height)},isHighTile:function(a){return _.indexOf(this.high,a+1)>=0},isAnimatedTile:function(a){return a+1 in this.animated},getTileAnimationLength:function(a){return this.animated[a+1].l},getTileAnimationDelay:function(a){var b=this.animated[a+1];return b.d?b.d:100},isDoor:function(a,b){return this.doors[this.GridPositionToTileIndex(a,b)]!==undefined},getDoorDestination:function(a,b){return this.doors[this.GridPositionToTileIndex(a,b)]},_getCheckpoints:function(a){var c=[];_.each(a.checkpoints,function(a){var d=new b(a.x,a.y,a.w,a.h);d.id=a.id,c.push(d)});return c},getCurrentCheckpoint:function(a){return _.detect(this.checkpoints,function(b){return b.contains(a)})}});return c}),define("animation",[],function(){var a=Class.extend({init:function(a,b,c,d,e){this.name=a,this.length=b,this.row=c,this.width=d,this.height=e,this.reset()},tick:function(){var a=this.currentFrame.index;a=a<this.length-1?a+1:0;if(this.count>0&&a===0){this.count-=1;if(this.count===0){this.currentFrame.index=0,this.endcount_callback();return}}this.currentFrame.x=this.width*a,this.currentFrame.y=this.height*this.row,this.currentFrame.index=a},setSpeed:function(a){this.speed=a},setCount:function(a,b){this.count=a,this.endcount_callback=b},isTimeToAnimate:function(a){return a-this.lastTime>this.speed},update:function(a){this.lastTime===0&&this.name.substr(0,3)==="atk"&&(this.lastTime=a);if(this.isTimeToAnimate(a)){this.lastTime=a,this.tick();return!0}return!1},reset:function(){this.lastTime=0,this.currentFrame={index:0,x:0,y:this.row*this.height}}});return a}),function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!="undefined"&&location.href,e=[];define("text",[],function(){var f,g,h;typeof window!="undefined"&&window.navigator&&window.document?g=function(a,b){var c=f.createXhr();c.open("GET",a,!0),c.onreadystatechange=function(){c.readyState===4&&b(c.responseText)},c.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(h=require.nodeRequire("fs"),g=function(a,b){b(h.readFileSync(a,"utf8"))}):typeof Packages!="undefined"&&(g=function(a,b){var c=new java.io.File(a),d=java.lang.System.getProperty("line.separator"),c=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(c),"utf-8")),e,f,g="";try{e=new java.lang.StringBuffer,(f=c.readLine())&&f.length()&&f.charAt(0)===65279&&(f=f.substring(1));for(e.append(f);(f=c.readLine())!==null;)e.append(d),e.append(f);g=String(e.toString())}finally{c.close()}b(g)});return f={version:"0.26.0",strip:function(a){if(a){var a=a.replace(b,""),d=a.match(c);d&&(a=d[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var b,c,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(c=0;c<3;c++){d=a[c];try{b=new ActiveXObject(d)}catch(e){}if(b){a=[d];break}}if(!b)throw Error("createXhr(): XMLHttpRequest not available");return b},get:g,parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),a=a.substring(c+1,a.length),c=a.indexOf("!");c!==-1&&(b=a.substring(c+1,a.length),b=b==="strip",a=a.substring(0,c));return{moduleName:d,ext:a,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,canUseXhr:function(a,b,c,d){var e=f.xdRegExp.exec(a),g;if(!e)return!0;a=e[2],e=e[3],e=e.split(":"),g=e[1],e=e[0];return(!a||a===b)&&(!e||e===c)&&(!g&&!e||g===d)},finishLoad:function(a,b,c,d,g){c=b?f.strip(c):c,g.isBuild&&g.inlineText&&(e[a]=c),d(c)},load:function(a,b,c,e){var g=f.parseName(a),h=g.moduleName+"."+g.ext,i=b.toUrl(h);!d||f.canUseXhr(i)?f.get(i,function(b){f.finishLoad(a,g.strip,b,c,e)}):b([h],function(a){f.finishLoad(g.moduleName+"."+g.ext,g.strip,a,c,e)})},write:function(a,b,c){if(b in e){var d=f.jsEscape(e[b]);c("define('"+a+"!"+b+"', function () { return '"+d+"';});\n")}},writeFile:function(a,b,c,d,e){var b=f.parseName(b),g=b.moduleName+"."+b.ext,h=c.toUrl(b.moduleName+"."+b.ext)+".js";f.load(g,c,function(){f.write(a,g,function(a){d(h,a)},e)},e)}}})}(),define("text!../sprites/agent.json",function(){return'{\r\t"id": "agent",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/arrow.json",function(){return'{\n\t"id": "arrow",\n\t"width": 14,\n\t"height": 14,\n\t"animations": {\n\t\t"idle_down": {\n\t\t\t"length": 1,\n\t\t\t"row": 0\n\t\t}\n\t}\n}\n'}),define("text!../sprites/axe.json",function(){return'{\r\t"id": "axe",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/bat.json",function(){return'{\r\t"id": "bat",\r\t"width": 32,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -24\r}\r'}),define("text!../sprites/beachnpc.json",function(){return'{\r\t"id": "beachnpc",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/bluesword.json",function(){return'{\r\t"id": "bluesword",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/boss.json",function(){return'{\r\t"id": "boss",\r\t"width": 64,\r\t"height": 72,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 8\r\t\t},\r\t\t"Group 5": {\r\t\t\t"length": 3,\r\t\t\t"row": 9\r\t\t}\r\t},\r\t"offset_x": -24,\r\t"offset_y": -36\r}\r'}),define("text!../sprites/chest.json",function(){return'{\r\t"id": "chest",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 1,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/clotharmor.json",function(){return'{\r\t"id": "clotharmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/item-clotharmor.json",function(){return'{\r\t"id": "item-clotharmor",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/coder.json",function(){return'{\r\t"id": "coder",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -7\r}\r'}),define("text!../sprites/crab.json",function(){return'{\r\t"id": "crab",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"death": {\r\t\t\t"length": 8,\r\t\t\t"row": 0\r\t\t},\r\t\t"atk_right": {\r\t\t\t"length": 7,\r\t\t\t"row": 1\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 2\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 3\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 8,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 6,\r\t\t\t"row": 6\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 8,\r\t\t\t"row": 7\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 8\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 7,\r\t\t\t"row": 9\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/death.json",function(){return'{\r\t"id": "death",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"death": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -4\r}\r'}),define("text!../sprites/deathknight.json",function(){return'{\r\t"id": "deathknight",\r\t"width": 42,\r\t"height": 42,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -13,\r\t"offset_y": -17\r}\r'}),define("text!../sprites/desertnpc.json",function(){return'{\r\t"id": "desertnpc",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/eye.json",function(){return'{\r\t"id": "eye",\r\t"width": 40,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 14,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 14,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 8,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 14,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -12,\r\t"offset_y": -18\r}\r'}),define("text!../sprites/firefox.json",function(){return'{\r\t"id": "firefox",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 8,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/forestnpc.json",function(){return'{\r\t"id": "forestnpc",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/goblin.json",function(){return'{\r\t"id": "goblin",\r\t"width": 26,\r\t"height": 26,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -5,\r\t"offset_y": -9\r}\r'}),define("text!../sprites/goldenarmor.json",function(){return'{\r\t"id": "goldenarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/goldensword.json",function(){return'{\r\t"id": "goldensword",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/guard.json",function(){return'{\r\t"id": "guard",\r\t"width": 25,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -5,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/hand.json",function(){return'{\r\t"id": "hand",\r\t"width": 14,\r\t"height": 14,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 1,\r\t\t\t"row": 0\r\t\t}\r\t}\r}\r'}),define("text!../sprites/impact.json",function(){return'{\r\t"id": "impact",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 1,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-axe.json",function(){return'{\r\t"id": "item-axe",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-bluesword.json",function(){return'{\r\t"id": "item-bluesword",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-burger.json",function(){return'{\r\t"id": "item-burger",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-cake.json",function(){return'{\r\t"id": "item-cake",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -6\r}\r'}),define("text!../sprites/item-firepotion.json",function(){return'{\r\t"id": "item-firepotion",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-flask.json",function(){return'{\r\t"id": "item-flask",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-goldenarmor.json",function(){return'{\r\t"id": "item-goldenarmor",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-goldensword.json",function(){return'{\r\t"id": "item-goldensword",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-leatherarmor.json",function(){return'{\r\t"id": "item-leatherarmor",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-mailarmor.json",function(){return'{\r\t"id": "item-mailarmor",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-morningstar.json",function(){return'{\r\t"id": "item-morningstar",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-platearmor.json",function(){return'{\r\t"id": "item-platearmor",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-redarmor.json",function(){return'{\r\t"id": "item-redarmor",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-redsword.json",function(){return'{\r\t"id": "item-redsword",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-sword1.json",function(){return'{\r\t"id": "item-sword1",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/item-sword2.json",function(){return'{\r\t"id": "item-sword2",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/king.json",function(){return'{\r\t"id": "king",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/lavanpc.json",function(){return'{\r\t"id": "lavanpc",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/leatherarmor.json",function(){return'{\r\t"id": "leatherarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/loot.json",function(){return'{\r\t"id": "loot",\r\t"width": 14,\r\t"height": 14,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 1,\r\t\t\t"row": 0\r\t\t}\r\t}\r}\r'}),define("text!../sprites/mailarmor.json",function(){return'{\r\t"id": "mailarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/morningstar.json",function(){return'{\r\t"id": "morningstar",\r\t"width": 38,\r\t"height": 38,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -11,\r\t"offset_y": -15\r}\r'}),define("text!../sprites/nyan.json",function(){return'{\r\t"id": "nyan",\r\t"width": 49,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -22,\r\t"offset_y": -6\r}\r'}),define("text!../sprites/octocat.json",function(){return'{\r\t"id": "octocat",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/ogre.json",function(){return'{\r\t"id": "ogre",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -24\r}\r'}),define("text!../sprites/platearmor.json",function(){return'{\r\t"id": "platearmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/priest.json",function(){return'{\r\t"id": "priest",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/rat.json",function(){return'{\r\t"id": "rat",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"death": {\r\t\t\t"length": 4,\r\t\t\t"row": 0\r\t\t},\r\t\t"atk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 1\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 2\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 3\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 6\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 8\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 9\r\t\t}\r\t}\r}\r'}),define("text!../sprites/redarmor.json",function(){return'{\r\t"id": "redarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/redsword.json",function(){return'{\r\t"id": "redsword",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/rick.json",function(){return'{\r\t"id": "rick",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/scientist.json",function(){return'{\r\t"id": "scientist",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/shadow16.json",function(){return'{\r\t"id": "shadow16",\r\t"width": 16,\r\t"height": 16\r}\r'}),define("text!../sprites/skeleton.json",function(){return'{\r\t"id": "skeleton",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/skeleton2.json",function(){return'{\r\t"id": "skeleton2",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/snake.json",function(){return'{\r\t"id": "snake",\r\t"width": 28,\r\t"height": 28,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -6,\r\t"offset_y": -10\r}\r'}),define("text!../sprites/sorcerer.json",function(){return'{\r\t"id": "sorcerer",\r\t"width": 26,\r\t"height": 26,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -5,\r\t"offset_y": -9\r}\r'}),define("text!../sprites/sparks.json",function(){return'{\r\t"id": "sparks",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"idle": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": 0,\r\t"offset_y": 0\r}\r'}),define("text!../sprites/spectre.json",function(){return'{\r\t"id": "spectre",\r\t"width": 34,\r\t"height": 34,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 8,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 6,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 8,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 8,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -9,\r\t"offset_y": -13\r}\r'}),define("text!../sprites/sword.json",function(){return'{\r\t"id": "sword",\r\t"width": 14,\r\t"height": 14,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 1,\r\t\t\t"row": 0\r\t\t}\r\t}\r}\r'}),define("text!../sprites/sword1.json",function(){return'{\r\t"id": "sword1",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r'}),define("text!../sprites/sword2.json",function(){return'{\r\t"id": "sword2",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -20\r}\r'}),define("text!../sprites/talk.json",function(){return'{\r\t"id": "talk",\r\t"width": 14,\r\t"height": 14,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 1,\r\t\t\t"row": 0\r\t\t}\r\t}\r}\r'}),define("text!../sprites/target.json",function(){return'{\r\t"id": "target",\r\t"width": 16,\r\t"height": 16,\r\t"animations": {\r\t\t"move": {\r\t\t\t"length": 4,\r\t\t\t"row": 0\r\t\t},\r\t\t"atk": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t}\r\t}\r}\r'}),define("text!../sprites/villagegirl.json",function(){return'{\r\t"id": "villagegirl",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/villager.json",function(){return'{\r\t"id": "villager",\r\t"width": 24,\r\t"height": 24,\r\t"animations": {\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 0\r\t\t}\r\t},\r\t"offset_x": -4,\r\t"offset_y": -8\r}\r'}),define("text!../sprites/orc.json",function(){return'{\n\t"id": "orc",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/oldogre.json",function(){return'{\n\t"id": "oldogre",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -25\n}\n'}),define("text!../sprites/golem.json",function(){return'{\n\t"id": "golem",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -17\n}\n'}),define("text!../sprites/mimic.json",function(){return'{\n\t"id": "mimic",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 1,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 1,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 1,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -11\n}\n'}),define("text!../sprites/hobgoblin.json",function(){return'{\r\t"id": "hobgoblin",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -5,\r\t"offset_y": -13\r}\r\n'}),define("text!../sprites/greenarmor.json",function(){return'{\n\t"id": "greenarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/greenwingarmor.json",function(){return'{\n\t"id": "greenwingarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-greenarmor.json",function(){return'{\n\t"id": "item-greenarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/item-greenwingarmor.json",function(){return'{\n\t"id": "item-greenwingarmor",\n\t"width": 18,\n\t"height": 18,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/sidesword.json",function(){return'{\t"id": "sidesword",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -25\n}\n'}),define("text!../sprites/item-sidesword.json",function(){return'{\n\t"id": "item-sidesword",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/yellowmouse.json",function(){return'{\n\t"id": "yellowmouse",\n\t"width": 26,\n\t"height": 26,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -8\n}\n'}),define("text!../sprites/whitemouse.json",function(){return'{\n\t"id": "whitemouse",\n\t"width": 26,\n\t"height": 26,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -8\n}\n'}),define("text!../sprites/brownmouse.json",function(){return'{\n\t"id": "brownmouse",\n\t"width": 26,\n\t"height": 26,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -8\n}\n'}),define("text!../sprites/spear.json",function(){return'{\n\t"id": "spear",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-spear.json",function(){return'{\n\t"id": "item-spear",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/guardarmor.json",function(){return'{\n\t"id": "guardarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-guardarmor.json",function(){return'{\n\t"id": "item-guardarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/redmouse.json",function(){return'{\n\t"id": "redmouse",\n\t"width": 26,\n\t"height": 26,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -8\n}\n'}),define("text!../sprites/redguard.json",function(){return'{\n\t"id": "redguard",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/scimitar.json",function(){return'{\n\t"id": "scimitar",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-scimitar.json",function(){return'{\n\t"id": "item-scimitar",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/redguardarmor.json",function(){return'{\n\t"id": "redguardarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-redguardarmor.json",function(){return'{\n\t"id": "item-redguardarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/whitearmor.json",function(){return'{\n\t"id": "whitearmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-whitearmor.json",function(){return'{\n\t"id": "item-whitearmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/infectedguard.json",function(){return'{\n\t"id": "infectedguard",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/livingarmor.json",function(){return'{\n\t"id": "livingarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/mermaid.json",function(){return'{\n\t"id": "mermaid",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/ratarmor.json",function(){return'{\n\t"id": "ratarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-ratarmor.json",function(){return'{\n\t"id": "item-ratarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/trident.json",function(){return'{\n\t"id": "trident",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-trident.json",function(){return'{\n\t"id": "item-trident",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/yellowfish.json",function(){return'{\n\t"id": "yellowfish",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/greenfish.json",function(){return'{\n\t"id": "greenfish",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/redfish.json",function(){return'{\n\t"id": "redfish",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/clam.json",function(){return'{\n\t"id": "clam",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/preta.json",function(){return'{\n\t"id": "preta",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/pirateskeleton.json",function(){return'{\n\t"id": "pirateskeleton",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/bluescimitar.json",function(){return'{\n\t"id": "bluescimitar",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-bluescimitar.json",function(){return'{\n\t"id": "item-bluescimitar",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/bluepiratearmor.json",function(){return'{\n\t"id": "bluepiratearmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-bluepiratearmor.json",function(){return'{\n\t"id": "item-bluepiratearmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/penguin.json",function(){return'{\n\t"id": "penguin",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -25\n}\n'}),define("text!../sprites/moleking.json",function(){return'{\n\t"id": "moleking",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/cheoliarmor.json",function(){return'{\n\t"id": "cheoliarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-cheoliarmor.json",function(){return'{\n\t"id": "item-cheoliarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/hammer.json",function(){return'{\n\t"id": "hammer",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-hammer.json",function(){return'{\n\t"id": "item-hammer",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/darkskeleton.json",function(){return'{\n\t"id": "darkskeleton",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -22\n}\n'}),define("text!../sprites/greenpirateskeleton.json",function(){return'{\n\t"id": "greenpirateskeleton",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -15\n}\n'}),define("text!../sprites/blackpirateskeleton.json",function(){return'{\n\t"id": "blackpirateskeleton",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -15\n}\n'}),define("text!../sprites/redpirateskeleton.json",function(){return'{\n\t"id": "redpirateskeleton",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -23\n}\n'}),define("text!../sprites/yellowpreta.json",function(){return'{\n\t"id": "yellowpreta",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/bluepreta.json",function(){return'{\n\t"id": "bluepreta",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/miniknight.json",function(){return'{\n\t"id": "miniknight",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/wolf.json",function(){return'{\n\t"id": "wolf",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/dovakinarmor.json",function(){return'{\r\t"id": "dovakinarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r\n'}),define("text!../sprites/item-dovakinarmor.json",function(){return'{\n\t"id": "item-dovakinarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/gbwingarmor.json",function(){return'{\r\t"id": "gbwingarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r\n'}),define("text!../sprites/item-gbwingarmor.json",function(){return'{\n\t"id": "item-gbwingarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/redwingarmor.json",function(){return'{\r\t"id": "redwingarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r\n'}),define("text!../sprites/item-redwingarmor.json",function(){return'{\n\t"id": "item-redwingarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/snowfoxarmor.json",function(){return'{\r\t"id": "snowfoxarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r\n'}),define("text!../sprites/item-snowfoxarmor.json",function(){return'{\n\t"id": "item-snowfoxarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/wolfarmor.json",function(){return'{\r\t"id": "wolfarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r\n'}),define("text!../sprites/item-wolfarmor.json",function(){return'{\n\t"id": "item-wolfarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/pinkelf.json",function(){return'{\n\t"id": "pinkelf",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/greenlightsaber.json",function(){return'{\n\t"id": "greenlightsaber",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-greenlightsaber.json",function(){return'{\n\t"id": "item-greenlightsaber",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/skyelf.json",function(){return'{\n\t"id": "skyelf",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/skylightsaber.json",function(){return'{\n\t"id": "skylightsaber",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-skylightsaber.json",function(){return'{\n\t"id": "item-skylightsaber",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/redelf.json",function(){return'{\n\t"id": "redelf",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/redlightsaber.json",function(){return'{\n\t"id": "redlightsaber",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-redlightsaber.json",function(){return'{\n\t"id": "item-redlightsaber",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/hermitcrab.json",function(){return'{\n\t"id": "hermitcrab",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/zombie.json",function(){return'{\n\t"id": "zombie",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/piratecaptain.json",function(){return'{\n\t"id": "piratecaptain",\n\t"width": 64,\n\t"height": 64,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t},\n\t\t"Group 5": {\n\t\t\t"length": 3,\n\t\t\t"row": 9\n\t\t}\n\t},\n\t"offset_x": -24,\n\t"offset_y": -36\n}\n'}),define("text!../sprites/ironogre.json",function(){return'{\n\t"id": "ironogre",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -25\n}\n'}),define("text!../sprites/ogrelord.json",function(){return'{\n\t"id": "ogrelord",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -25\n}\n'}),define("text!../sprites/adherer.json",function(){return'{\n\t"id": "adherer",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/icegolem.json",function(){return'{\n\t"id": "icegolem",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/bluewingarmor.json",function(){return'{\n\t"id": "bluewingarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-bluewingarmor.json",function(){return'{\n\t"id": "item-bluewingarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/thiefarmor.json",function(){return'{\n\t"id": "thiefarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-thiefarmor.json",function(){return'{\n\t"id": "item-thiefarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/ninjaarmor.json",function(){return'{\n\t"id": "ninjaarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-ninjaarmor.json",function(){return'{\n\t"id": "item-ninjaarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/dragonarmor.json",function(){return'{\r\t"id": "dragonarmor",\r\t"width": 32,\r\t"height": 32,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 5,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 5,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -8,\r\t"offset_y": -12\r}\r\n'}),define("text!../sprites/item-dragonarmor.json",function(){return'{\n\t"id": "item-dragonarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/fallenarmor.json",function(){return'{\n\t"id": "fallenarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-fallenarmor.json",function(){return'{\n\t"id": "item-fallenarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/paladinarmor.json",function(){return'{\n\t"id": "paladinarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-paladinarmor.json",function(){return'{\n\t"id": "item-paladinarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/crystalarmor.json",function(){return'{\n\t"id": "crystalarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-crystalarmor.json",function(){return'{\n\t"id": "item-crystalarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/adhererrobe.json",function(){return'{\n\t"id": "adhererrobe",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-adhererrobe.json",function(){return'{\n\t"id": "item-adhererrobe",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/frostarmor.json",function(){return'{\n\t"id": "frostarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-frostarmor.json",function(){return'{\n\t"id": "item-frostarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/redmetalsword.json",function(){return'{\n\t"id": "redmetalsword",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-redmetalsword.json",function(){return'{\n\t"id": "item-redmetalsword",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/bastardsword.json",function(){return'{\n\t"id": "bastardsword",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-bastardsword.json",function(){return'{\n\t"id": "item-bastardsword",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/halberd.json",function(){return'{\n\t"id": "halberd",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-halberd.json",function(){return'{\n\t"id": "item-halberd",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/rose.json",function(){return'{\n\t"id": "rose",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-rose.json",function(){return'{\n\t"id": "item-rose",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/icerose.json",function(){return'{\n\t"id": "icerose",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/item-icerose.json",function(){return'{\n\t"id": "item-icerose",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/wizard.json",function(){return'{\r\t"id": "wizard",\r\t"width": 26,\r\t"height": 26,\r\t"animations": {\r\t\t"death": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"atk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 6\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 6,\r\t\t\t"row": 8\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 9\r\t\t}\r\t},\r\t"offset_x": -5,\r\t"offset_y": -9\r}\r'}),define("text!../sprites/desertscolpion.json",function(){return'{\r\t"id": "desertscolpion",\r\t"width": 64,\r\t"height": 72,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 6,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -24,\r\t"offset_y": -32\r}\r'}),define("text!../sprites/darkscolpion.json",function(){return'{\r\t"id": "darkscolpion",\r\t"width": 64,\r\t"height": 72,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 6,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -24,\r\t"offset_y": -32\r}\r'}),define("text!../sprites/vulture.json",function(){return'{\r\t"id": "vulture",\r\t"width": 48,\r\t"height": 48,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 3,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 2,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 3,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 5,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 2,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 3,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 2,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -16,\r\t"offset_y": -25\r}\r'}),define("text!../sprites/crystalscolpion.json",function(){return'{\r\t"id": "crystalscolpion",\r\t"width": 64,\r\t"height": 72,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 6,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 6,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 6,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -24,\r\t"offset_y": -32\r}\r\n'}),define("text!../sprites/eliminator.json",function(){return'{\n\t"id": "eliminator",\n\t"width": 42,\n\t"height": 42,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -14,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/frostqueen.json",function(){return'{\n\t"id": "frostqueen",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 6,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -22\n}\n'}),define("text!../sprites/snowrabbit.json",function(){return'{\n\t"id": "snowrabbit",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -5,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/snowwolf.json",function(){return'{\n\t"id": "snowwolf",\n\t"width": 42,\n\t"height": 42,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -14,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/iceknight.json",function(){return'{\n\t"id": "iceknight",\n\t"width": 42,\n\t"height": 42,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -13,\n\t"offset_y": -17\n}\n'}),define("text!../sprites/miniiceknight.json",function(){return'{\n\t"id": "miniiceknight",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -13\n}\n'}),define("text!../sprites/snowelf.json",function(){return'{\n\t"id": "snowelf",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/whitebear.json",function(){return'{\n\t"id": "whitebear",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 6,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -22\n}\n'}),define("text!../sprites/cobra.json",function(){return'{\n\t"id": "cobra",\n\t"width": 28,\n\t"height": 28,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -6,\n\t"offset_y": -10\n}\n'}),define("text!../sprites/goldgolem.json",function(){return'{\n\t"id": "goldgolem",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/darkregion.json",function(){return'{\n\t"id": "darkregion",\n\t"width": 42,\n\t"height": 42,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -14,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/darkregionillusion.json",function(){return'{\n\t"id": "darkregionillusion",\n\t"width": 42,\n\t"height": 42,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -14,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/bloodregion.json",function(){return'{\n\t"id": "bloodregion",\n\t"width": 42,\n\t"height": 42,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -14,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/justicehammer.json",function(){return'{\n\t"id": "justicehammer",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-justicehammer.json",function(){return'{\n\t"id": "item-justicehammer",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/firesword.json",function(){return'{\n\t"id": "firesword",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-firesword.json",function(){return'{\n\t"id": "item-firesword",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/whip.json",function(){return'{\n\t"id": "whip",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-whip.json",function(){return'{\n\t"id": "item-whip",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/forestguardiansword.json",function(){return'{\n\t"id": "forestguardiansword",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/item-forestguardiansword.json",function(){return'{\n\t"id": "item-forestguardiansword",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/gayarmor.json",function(){return'{\n\t"id": "gayarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-gayarmor.json",function(){return'{\n\t"id": "item-gayarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/schooluniform.json",function(){return'{\n\t"id": "schooluniform",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-schooluniform.json",function(){return'{\n\t"id": "item-schooluniform",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/beautifullife.json",function(){return'{\n\t"id": "beautifullife",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-beautifullife.json",function(){return'{\n\t"id": "item-beautifullife",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/regionarmor.json",function(){return'{\n\t"id": "regionarmor",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-regionarmor.json",function(){return'{\n\t"id": "item-regionarmor",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/ghostrider.json",function(){return'{\n\t"id": "ghostrider",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-ghostrider.json",function(){return'{\n\t"id": "item-ghostrider",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/firebenef.json",function(){return'{\n\t"id": "firebenef",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": -17,\n\t"offset_y": -21\n}\n'}),define("text!../sprites/taekwondo.json",function(){return'{\n\t"id": "taekwondo",\n\t"width": 32,\n\t"height": 32,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 5,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 4,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 4,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 5,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 4,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -8,\n\t"offset_y": -12\n}\n'}),define("text!../sprites/item-taekwondo.json",function(){return'{\n\t"id": "item-taekwondo",\n\t"width": 16,\n\t"height": 16,\n\t"animations": {\n\t\t"idle": {\n\t\t\t"length": 6,\n\t\t\t"row": 0\n\t\t}\n\t},\n\t"offset_x": 0,\n\t"offset_y": 0\n}\n'}),define("text!../sprites/darkogre.json",function(){return'{\n\t"id": "darkogre",\n\t"width": 48,\n\t"height": 48,\n\t"animations": {\n\t\t"atk_right": {\n\t\t\t"length": 3,\n\t\t\t"row": 0\n\t\t},\n\t\t"walk_right": {\n\t\t\t"length": 6,\n\t\t\t"row": 1\n\t\t},\n\t\t"idle_right": {\n\t\t\t"length": 2,\n\t\t\t"row": 2\n\t\t},\n\t\t"atk_up": {\n\t\t\t"length": 3,\n\t\t\t"row": 3\n\t\t},\n\t\t"walk_up": {\n\t\t\t"length": 5,\n\t\t\t"row": 4\n\t\t},\n\t\t"idle_up": {\n\t\t\t"length": 2,\n\t\t\t"row": 5\n\t\t},\n\t\t"atk_down": {\n\t\t\t"length": 3,\n\t\t\t"row": 6\n\t\t},\n\t\t"walk_down": {\n\t\t\t"length": 6,\n\t\t\t"row": 7\n\t\t},\n\t\t"idle_down": {\n\t\t\t"length": 2,\n\t\t\t"row": 8\n\t\t}\n\t},\n\t"offset_x": -16,\n\t"offset_y": -25\n}\n'}),define("text!../sprites/forestdragon.json",function(){return'{\r\t"id": "forestdragon",\r\t"width": 64,\r\t"height": 72,\r\t"animations": {\r\t\t"atk_right": {\r\t\t\t"length": 7,\r\t\t\t"row": 0\r\t\t},\r\t\t"walk_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 1\r\t\t},\r\t\t"idle_right": {\r\t\t\t"length": 4,\r\t\t\t"row": 2\r\t\t},\r\t\t"atk_up": {\r\t\t\t"length": 7,\r\t\t\t"row": 3\r\t\t},\r\t\t"walk_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 4\r\t\t},\r\t\t"idle_up": {\r\t\t\t"length": 4,\r\t\t\t"row": 5\r\t\t},\r\t\t"atk_down": {\r\t\t\t"length": 7,\r\t\t\t"row": 6\r\t\t},\r\t\t"walk_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 7\r\t\t},\r\t\t"idle_down": {\r\t\t\t"length": 4,\r\t\t\t"row": 8\r\t\t}\r\t},\r\t"offset_x": -30,\r\t"offset_y": -30\r}\r'}),define("sprites",["text!../sprites/agent.json","text!../sprites/arrow.json","text!../sprites/axe.json","text!../sprites/bat.json","text!../sprites/beachnpc.json","text!../sprites/bluesword.json","text!../sprites/boss.json","text!../sprites/chest.json","text!../sprites/clotharmor.json","text!../sprites/item-clotharmor.json","text!../sprites/coder.json","text!../sprites/crab.json","text!../sprites/death.json","text!../sprites/deathknight.json","text!../sprites/desertnpc.json","text!../sprites/eye.json","text!../sprites/firefox.json","text!../sprites/forestnpc.json","text!../sprites/goblin.json","text!../sprites/goldenarmor.json","text!../sprites/goldensword.json","text!../sprites/guard.json","text!../sprites/hand.json","text!../sprites/impact.json","text!../sprites/item-axe.json","text!../sprites/item-bluesword.json","text!../sprites/item-burger.json","text!../sprites/item-cake.json","text!../sprites/item-firepotion.json","text!../sprites/item-flask.json","text!../sprites/item-goldenarmor.json","text!../sprites/item-goldensword.json","text!../sprites/item-leatherarmor.json","text!../sprites/item-mailarmor.json","text!../sprites/item-morningstar.json","text!../sprites/item-platearmor.json","text!../sprites/item-redarmor.json","text!../sprites/item-redsword.json","text!../sprites/item-sword1.json","text!../sprites/item-sword2.json","text!../sprites/king.json","text!../sprites/lavanpc.json","text!../sprites/leatherarmor.json","text!../sprites/loot.json","text!../sprites/mailarmor.json","text!../sprites/morningstar.json","text!../sprites/nyan.json","text!../sprites/octocat.json","text!../sprites/ogre.json","text!../sprites/platearmor.json","text!../sprites/priest.json","text!../sprites/rat.json","text!../sprites/redarmor.json","text!../sprites/redsword.json","text!../sprites/rick.json","text!../sprites/scientist.json","text!../sprites/shadow16.json","text!../sprites/skeleton.json","text!../sprites/skeleton2.json","text!../sprites/snake.json","text!../sprites/sorcerer.json","text!../sprites/sparks.json","text!../sprites/spectre.json","text!../sprites/sword.json","text!../sprites/sword1.json","text!../sprites/sword2.json","text!../sprites/talk.json","text!../sprites/target.json","text!../sprites/villagegirl.json","text!../sprites/villager.json","text!../sprites/orc.json","text!../sprites/oldogre.json","text!../sprites/golem.json","text!../sprites/mimic.json","text!../sprites/hobgoblin.json","text!../sprites/greenarmor.json","text!../sprites/greenwingarmor.json","text!../sprites/item-greenarmor.json","text!../sprites/item-greenwingarmor.json","text!../sprites/sidesword.json","text!../sprites/item-sidesword.json","text!../sprites/yellowmouse.json","text!../sprites/whitemouse.json","text!../sprites/brownmouse.json","text!../sprites/spear.json","text!../sprites/item-spear.json","text!../sprites/guardarmor.json","text!../sprites/item-guardarmor.json","text!../sprites/redmouse.json","text!../sprites/redguard.json","text!../sprites/scimitar.json","text!../sprites/item-scimitar.json","text!../sprites/redguardarmor.json","text!../sprites/item-redguardarmor.json","text!../sprites/whitearmor.json","text!../sprites/item-whitearmor.json","text!../sprites/infectedguard.json","text!../sprites/livingarmor.json","text!../sprites/mermaid.json","text!../sprites/ratarmor.json","text!../sprites/item-ratarmor.json","text!../sprites/trident.json","text!../sprites/item-trident.json","text!../sprites/yellowfish.json","text!../sprites/greenfish.json","text!../sprites/redfish.json","text!../sprites/clam.json","text!../sprites/preta.json","text!../sprites/pirateskeleton.json","text!../sprites/bluescimitar.json","text!../sprites/item-bluescimitar.json","text!../sprites/bluepiratearmor.json","text!../sprites/item-bluepiratearmor.json","text!../sprites/penguin.json","text!../sprites/moleking.json","text!../sprites/cheoliarmor.json","text!../sprites/item-cheoliarmor.json","text!../sprites/hammer.json","text!../sprites/item-hammer.json","text!../sprites/darkskeleton.json","text!../sprites/greenpirateskeleton.json","text!../sprites/blackpirateskeleton.json","text!../sprites/redpirateskeleton.json","text!../sprites/yellowpreta.json","text!../sprites/bluepreta.json","text!../sprites/miniknight.json","text!../sprites/wolf.json","text!../sprites/dovakinarmor.json","text!../sprites/item-dovakinarmor.json","text!../sprites/gbwingarmor.json","text!../sprites/item-gbwingarmor.json","text!../sprites/redwingarmor.json","text!../sprites/item-redwingarmor.json","text!../sprites/snowfoxarmor.json","text!../sprites/item-snowfoxarmor.json","text!../sprites/wolfarmor.json","text!../sprites/item-wolfarmor.json","text!../sprites/pinkelf.json","text!../sprites/greenlightsaber.json","text!../sprites/item-greenlightsaber.json","text!../sprites/skyelf.json","text!../sprites/skylightsaber.json","text!../sprites/item-skylightsaber.json","text!../sprites/redelf.json","text!../sprites/redlightsaber.json","text!../sprites/item-redlightsaber.json","text!../sprites/hermitcrab.json","text!../sprites/zombie.json","text!../sprites/piratecaptain.json","text!../sprites/ironogre.json","text!../sprites/ogrelord.json","text!../sprites/adherer.json","text!../sprites/icegolem.json","text!../sprites/bluewingarmor.json","text!../sprites/item-bluewingarmor.json","text!../sprites/thiefarmor.json","text!../sprites/item-thiefarmor.json","text!../sprites/ninjaarmor.json","text!../sprites/item-ninjaarmor.json","text!../sprites/dragonarmor.json","text!../sprites/item-dragonarmor.json","text!../sprites/fallenarmor.json","text!../sprites/item-fallenarmor.json","text!../sprites/paladinarmor.json","text!../sprites/item-paladinarmor.json","text!../sprites/crystalarmor.json","text!../sprites/item-crystalarmor.json","text!../sprites/adhererrobe.json","text!../sprites/item-adhererrobe.json","text!../sprites/frostarmor.json","text!../sprites/item-frostarmor.json","text!../sprites/redmetalsword.json","text!../sprites/item-redmetalsword.json","text!../sprites/bastardsword.json","text!../sprites/item-bastardsword.json","text!../sprites/halberd.json","text!../sprites/item-halberd.json","text!../sprites/rose.json","text!../sprites/item-rose.json","text!../sprites/icerose.json","text!../sprites/item-icerose.json","text!../sprites/wizard.json","text!../sprites/desertscolpion.json","text!../sprites/darkscolpion.json","text!../sprites/vulture.json","text!../sprites/crystalscolpion.json","text!../sprites/eliminator.json","text!../sprites/frostqueen.json","text!../sprites/snowrabbit.json","text!../sprites/snowwolf.json","text!../sprites/iceknight.json","text!../sprites/miniiceknight.json","text!../sprites/snowelf.json","text!../sprites/whitebear.json","text!../sprites/cobra.json","text!../sprites/goldgolem.json","text!../sprites/darkregion.json","text!../sprites/darkregionillusion.json","text!../sprites/bloodregion.json","text!../sprites/justicehammer.json","text!../sprites/item-justicehammer.json","text!../sprites/firesword.json","text!../sprites/item-firesword.json","text!../sprites/whip.json","text!../sprites/item-whip.json","text!../sprites/forestguardiansword.json","text!../sprites/item-forestguardiansword.json","text!../sprites/gayarmor.json","text!../sprites/item-gayarmor.json","text!../sprites/schooluniform.json","text!../sprites/item-schooluniform.json","text!../sprites/beautifullife.json","text!../sprites/item-beautifullife.json","text!../sprites/regionarmor.json","text!../sprites/item-regionarmor.json","text!../sprites/ghostrider.json","text!../sprites/item-ghostrider.json","text!../sprites/firebenef.json","text!../sprites/taekwondo.json","text!../sprites/item-taekwondo.json","text!../sprites/darkogre.json","text!../sprites/forestdragon.json"],function(){var a={};_.each(arguments,function(b){var c=JSON.parse(b);a[c.id]=c});return a}),define("sprite",["jquery","animation","sprites"],function(a,b,c){var d=Class.extend({init:function(a,b){this.name=a,this.scale=b,this.isLoaded=!1,this.offsetX=0,this.offsetY=0,this.loadJSON(c[a])},loadJSON:function(a){this.id=a.id,this.filepath="img/"+this.scale+"/"+this.id+".png",this.animationData=a.animations,this.width=a.width,this.height=a.height,this.offsetX=a.offset_x!==undefined?a.offset_x:-16,this.offsetY=a.offset_y!==undefined?a.offset_y:-16,this.load()},load:function(){var a=this;this.image=new Image,this.image.src=this.filepath,this.image.onload=function(){a.isLoaded=!0,a.onload_func&&a.onload_func()}},createAnimations:function(){var a={};for(var c in this.animationData){var d=this.animationData[c];a[c]=new b(c,d.length,d.row,this.width,this.height)}return a},createHurtSprite:function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c=this.image.width,d=this.image.height,e,f;a.width=c,a.height=d,b.drawImage(this.image,0,0,c,d);try{e=b.getImageData(0,0,c,d),f=e.data;for(var g=0;g<f.length;g+=4)f[g]=255,f[g+1]=f[g+2]=75;e.data=f,b.putImageData(e,0,0),this.whiteSprite={image:a,isLoaded:!0,offsetX:this.offsetX,offsetY:this.offsetY,width:this.width,height:this.height}}catch(h){log.error("Error getting image data for sprite : "+this.name)}},getHurtSprite:function(){return this.whiteSprite},createSilhouette:function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c=this.image.width,d=this.image.height,e,f,g;a.width=c,a.height=d,b.drawImage(this.image,0,0,c,d),g=b.getImageData(0,0,c,d).data,f=b.getImageData(0,0,c,d),fdata=f.data;var h=function(a,b){return(c*(b-1)+a-1)*4},i=function(a){var b,d;a=a/4+1,b=a%c,d=(a-b)/c+1;return{x:b,y:d}},j=function(a){var b=i(a);return b.x<c&&!k(h(b.x+1,b.y))?!0:b.x>1&&!k(h(b.x-1,b.y))?!0:b.y<d&&!k(h(b.x,b.y+1))?!0:b.y>1&&!k(h(b.x,b.y-1))?!0:!1},k=function(a){return a<0||a>=g.length?!0:g[a]===0&&g[a+1]===0&&g[a+2]===0&&g[a+3]===0};for(var l=0;l<g.length;l+=4)k(l)&&j(l)&&(fdata[l]=fdata[l+1]=255,fdata[l+2]=150,fdata[l+3]=150);f.data=fdata,b.putImageData(f,0,0),this.silhouetteSprite={image:a,isLoaded:!0,offsetX:this.offsetX,offsetY:this.offsetY,width:this.width,height:this.height}}});return d}),define("tile",[],function(){var a=Class.extend({}),b=a.extend({init:function(a,b,c,d){this.startId=a,this.id=a,this.length=b,this.speed=c,this.index=d,this.lastTime=0},tick:function(){this.id-this.startId<this.length-1?this.id+=1:this.id=this.startId},animate:function(a){if(a-this.lastTime>this.speed){this.tick(),this.lastTime=a;return!0}return!1}});return b}),define("warrior",["player"],function(a){var b=a.extend({init:function(a,b){this._super(a,b,Types.Entities.WARRIOR)}});return b}),define("mob",["character"],function(a){var b=a.extend({init:function(a,b){this._super(a,b),this.aggroRange=1,this.isAggressive=!0}});return b}),define("mobs",["mob","timer"],function(a,b){var c={Rat:a.extend({init:function(a){this._super(a,Types.Entities.RAT),this.moveSpeed=350,this.idleSpeed=700,this.shadowOffsetY=-2,this.isAggressive=!1}}),Skeleton:a.extend({init:function(a){this._super(a,Types.Entities.SKELETON),this.moveSpeed=350,this.atkSpeed=100,this.idleSpeed=800,this.shadowOffsetY=1,this.setAttackRate(1300)}}),Skeleton2:a.extend({init:function(a){this._super(a,Types.Entities.SKELETON2),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=800,this.walkSpeed=200,this.shadowOffsetY=1,this.setAttackRate(1300)}}),Spectre:a.extend({init:function(a){this._super(a,Types.Entities.SPECTRE),this.moveSpeed=150,this.atkSpeed=50,this.idleSpeed=200,this.walkSpeed=200,this.shadowOffsetY=1,this.setAttackRate(900)}}),Deathknight:a.extend({init:function(a){this._super(a,Types.Entities.DEATHKNIGHT),this.atkSpeed=50,this.moveSpeed=220,this.walkSpeed=100,this.idleSpeed=450,this.setAttackRate(800),this.aggroRange=3},idle:function(a){this.hasTarget()?this._super(a):this._super(Types.Orientations.DOWN)}}),Goblin:a.extend({init:function(a){this._super(a,Types.Entities.GOBLIN),this.moveSpeed=150,this.atkSpeed=60,this.idleSpeed=600,this.setAttackRate(700)}}),Ogre:a.extend({init:function(a){this._super(a,Types.Entities.OGRE),this.moveSpeed=300,this.atkSpeed=100,this.idleSpeed=600}}),Crab:a.extend({init:function(a){this._super(a,Types.Entities.CRAB),this.moveSpeed=200,this.atkSpeed=40,this.idleSpeed=500}}),Snake:a.extend({init:function(a){this._super(a,Types.Entities.SNAKE),this.moveSpeed=200,this.atkSpeed=40,this.idleSpeed=250,this.walkSpeed=100,this.shadowOffsetY=-4}}),Eye:a.extend({init:function(a){this._super(a,Types.Entities.EYE),this.moveSpeed=200,this.atkSpeed=40,this.idleSpeed=50}}),Bat:a.extend({init:function(a){this._super(a,Types.Entities.BAT),this.moveSpeed=120,this.atkSpeed=90,this.idleSpeed=90,this.walkSpeed=85,this.isAggressive=!1}}),Wizard:a.extend({init:function(a){this._super(a,Types.Entities.WIZARD),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Boss:a.extend({init:function(a){this._super(a,Types.Entities.BOSS),this.moveSpeed=300,this.atkSpeed=50,this.idleSpeed=400,this.atkRate=2e3,this.attackCooldown=new b(this.atkRate),this.aggroRange=3},idle:function(a){this.hasTarget()?this._super(a):this._super(Types.Orientations.DOWN)}}),Orc:a.extend({init:function(a){this._super(a,Types.Entities.ORC),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Golem:a.extend({init:function(a){this._super(a,Types.Entities.GOLEM),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Oldogre:a.extend({init:function(a){this._super(a,Types.Entities.OLDOGRE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Mimic:a.extend({init:function(a){this._super(a,Types.Entities.MIMIC),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Hobgoblin:a.extend({init:function(a){this._super(a,Types.Entities.HOBGOBLIN),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Yellowmouse:a.extend({init:function(a){this._super(a,Types.Entities.YELLOWMOUSE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Whitemouse:a.extend({init:function(a){this._super(a,Types.Entities.WHITEMOUSE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Brownmouse:a.extend({init:function(a){this._super(a,Types.Entities.BROWNMOUSE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Redmouse:a.extend({init:function(a){this._super(a,Types.Entities.REDMOUSE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Redguard:a.extend({init:function(a){this._super(a,Types.Entities.REDGUARD),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Infectedguard:a.extend({init:function(a){this._super(a,Types.Entities.INFECTEDGUARD),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Livingarmor:a.extend({init:function(a){this._super(a,Types.Entities.LIVINGARMOR),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Mermaid:a.extend({init:function(a){this._super(a,Types.Entities.MERMAID),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Yellowfish:a.extend({init:function(a){this._super(a,Types.Entities.YELLOWFISH),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Greenfish:a.extend({init:function(a){this._super(a,Types.Entities.GREENFISH),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Redfish:a.extend({init:function(a){this._super(a,Types.Entities.REDFISH),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Clam:a.extend({init:function(a){this._super(a,Types.Entities.CLAM),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Preta:a.extend({init:function(a){this._super(a,Types.Entities.PRETA),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Pirateskeleton:a.extend({init:function(a){this._super(a,Types.Entities.PIRATESKELETON),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=250}}),Vulture:a.extend({init:function(a){this._super(a,Types.Entities.VULTURE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Penguin:a.extend({init:function(a){this._super(a,Types.Entities.PENGUIN),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Moleking:a.extend({init:function(a){this._super(a,Types.Entities.MOLEKING),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Darkskeleton:a.extend({init:function(a){this._super(a,Types.Entities.DARKSKELETON),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=250}}),Darkscolpion:a.extend({init:function(a){this._super(a,Types.Entities.DARKSCOLPION),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Greenpirateskeleton:a.extend({init:function(a){this._super(a,Types.Entities.GREENPIRATESKELETON),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=250,this.aggroRange=3}}),Blackpirateskeleton:a.extend({init:function(a){this._super(a,Types.Entities.BLACKPIRATESKELETON),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=250,this.aggroRange=3}}),Redpirateskeleton:a.extend({init:function(a){this._super(a,Types.Entities.REDPIRATESKELETON),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=250,this.aggroRange=3}}),Yellowpreta:a.extend({init:function(a){this._super(a,Types.Entities.YELLOWPRETA),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Bluepreta:a.extend({init:function(a){this._super(a,Types.Entities.BLUEPRETA),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Miniknight:a.extend({init:function(a){this._super(a,Types.Entities.MINIKNIGHT),this.moveSpeed=120,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Wolf:a.extend({init:function(a){this._super(a,Types.Entities.WOLF),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Pinkelf:a.extend({init:function(a){this._super(a,Types.Entities.PINKELF),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Skyelf:a.extend({init:function(a){this._super(a,Types.Entities.SKYELF),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Redelf:a.extend({init:function(a){this._super(a,Types.Entities.REDELF),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Hermitcrab:a.extend({init:function(a){this._super(a,Types.Entities.HERMITCRAB),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Zombie:a.extend({init:function(a){this._super(a,Types.Entities.ZOMBIE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Piratecaptain:a.extend({init:function(a){this._super(a,Types.Entities.PIRATECAPTAIN),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Ironogre:a.extend({init:function(a){this._super(a,Types.Entities.IRONOGRE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Ogrelord:a.extend({init:function(a){this._super(a,Types.Entities.OGRELORD),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Adherer:a.extend({init:function(a){this._super(a,Types.Entities.ADHERER),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Icegolem:a.extend({init:function(a){this._super(a,Types.Entities.ICEGOLEM),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Desertscolpion:a.extend({init:function(a){this._super(a,Types.Entities.DESERTSCOLPION),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150}}),Forestdragon:a.extend({init:function(a){this._super(a,Types.Entities.FORESTDRAGON),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=250,this.aggroRange=2}}),Crystalscolpion:a.extend({init:function(a){this._super(a,Types.Entities.CRYSTALSCOLPION),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Eliminator:a.extend({init:function(a){this._super(a,Types.Entities.ELIMINATOR),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Frostqueen:a.extend({init:function(a){this._super(a,Types.Entities.FROSTQUEEN),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Snowrabbit:a.extend({init:function(a){this._super(a,Types.Entities.SNOWRABBIT),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Snowwolf:a.extend({init:function(a){this._super(a,Types.Entities.SNOWWOLF),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Iceknight:a.extend({init:function(a){this._super(a,Types.Entities.ICEKNIGHT),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Miniiceknight:a.extend({init:function(a){this._super(a,Types.Entities.MINIICEKNIGHT),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Snowelf:a.extend({init:function(a){this._super(a,Types.Entities.SNOWELF),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Whitebear:a.extend({init:function(a){this._super(a,Types.Entities.WHITEBEAR),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Cobra:a.extend({init:function(a){this._super(a,Types.Entities.COBRA),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Goldgolem:a.extend({init:function(a){this._super(a,Types.Entities.GOLDGOLEM),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Darkregion:a.extend({init:function(a){this._super(a,Types.Entities.DARKREGION),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Darkregionillusion:a.extend({init:function(a){this._super(a,Types.Entities.DARKREGIONILLUSION),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Bloodregion:a.extend({init:function(a){this._super(a,Types.Entities.BLOODREGION),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}}),Darkogre:a.extend({init:function(a){this._super(a,Types.Entities.DARKOGRE),this.moveSpeed=200,this.atkSpeed=100,this.idleSpeed=150,this.aggroRange=2}})};return c}),define("items",["item"],function(a){var b={Sword2:a.extend({init:function(a){this._super(a,Types.Entities.SWORD2,"weapon"),this.lootMessage="강철검을 손에 얻었소!"}}),Axe:a.extend({init:function(a){this._super(a,Types.Entities.AXE,"weapon"),this.lootMessage="도끼 득템"}}),RedSword:a.extend({init:function(a){this._super(a,Types.Entities.REDSWORD,"weapon"),this.lootMessage="빨간 칼 득템"}}),BlueSword:a.extend({init:function(a){this._super(a,Types.Entities.BLUESWORD,"weapon"),this.lootMessage="파란 칼 득템"}}),GoldenSword:a.extend({init:function(a){this._super(a,Types.Entities.GOLDENSWORD,"weapon"),this.lootMessage="황금 칼 득템"}}),MorningStar:a.extend({init:function(a){this._super(a,Types.Entities.MORNINGSTAR,"weapon"),this.lootMessage="철퇴 득템"}}),SideSword:a.extend({init:function(a){this._super(a,Types.Entities.SIDESWORD,"weapon"),this.lootMessage="사이드 소드 득템"}}),Spear:a.extend({init:function(a){this._super(a,Types.Entities.SPEAR,"weapon"),this.lootMessage="경비병 창 득템"}}),Scimitar:a.extend({init:function(a){this._super(a,Types.Entities.SCIMITAR,"weapon"),this.lootMessage="시미터 득템"}}),Trident:a.extend({init:function(a){this._super(a,Types.Entities.TRIDENT,"weapon"),this.lootMessage="삼지창 득템"}}),Bluescimitar:a.extend({init:function(a){this._super(a,Types.Entities.BLUESCIMITAR,"weapon"),this.lootMessage="푸른 시미터 득템"}}),Hammer:a.extend({init:function(a){this._super(a,Types.Entities.HAMMER,"weapon"),this.lootMessage="망치 득템"}}),Greenlightsaber:a.extend({init:function(a){this._super(a,Types.Entities.GREENLIGHTSABER,"weapon"),this.lootMessage="초록 형광등 득템"}}),Skylightsaber:a.extend({init:function(a){this._super(a,Types.Entities.SKYLIGHTSABER,"weapon"),this.lootMessage="하늘색 형광등 득템"}}),Redlightsaber:a.extend({init:function(a){this._super(a,Types.Entities.REDLIGHTSABER,"weapon"),this.lootMessage="빨강 형광등 득템"}}),Redmetalsword:a.extend({init:function(a){this._super(a,Types.Entities.REDMETALSWORD,"weapon"),this.lootMessage="레드 메탈 아머 득템"}}),Bastardsword:a.extend({init:function(a){this._super(a,Types.Entities.BASTARDSWORD,"weapon"),this.lootMessage="바스타드 소드 득템"}}),Halberd:a.extend({init:function(a){this._super(a,Types.Entities.HALBERD,"weapon"),this.lootMessage="핼버드 득템"}}),Rose:a.extend({init:function(a){this._super(a,Types.Entities.ROSE,"weapon"),this.lootMessage="장미 득템"}}),Icerose:a.extend({init:function(a){this._super(a,Types.Entities.ICEROSE,"weapon"),this.lootMessage="얼음 장미 득템"}}),Justicehammer:a.extend({init:function(a){this._super(a,Types.Entities.JUSTICEHAMMER,"weapon"),this.lootMessage="저스티스 해머 득템"}}),Firesword:a.extend({init:function(a){this._super(a,Types.Entities.FIRESWORD,"weapon"),this.lootMessage="불검 득템"}}),Whip:a.extend({init:function(a){this._super(a,Types.Entities.WHIP,"weapon"),this.lootMessage="채찍 득템"}}),Forestguardiansword:a.extend({init:function(a){this._super(a,Types.Entities.Forestguardiansword,"weapon"),this.lootMessage="포레스트 가디언 소드 득템"}}),LeatherArmor:a.extend({init:function(a){this._super(a,Types.Entities.LEATHERARMOR,"armor"),this.lootMessage="가죽 갑옷 득템"}}),MailArmor:a.extend({init:function(a){this._super(a,Types.Entities.MAILARMOR,"armor"),this.lootMessage="비늘 갑옷 득템"}}),PlateArmor:a.extend({init:function(a){this._super(a,Types.Entities.PLATEARMOR,"armor"),this.lootMessage="판금 갑옷 득템"}}),RedArmor:a.extend({init:function(a){this._super(a,Types.Entities.REDARMOR,"armor"),this.lootMessage="루비 갑옷 득템"}}),GoldenArmor:a.extend({init:function(a){this._super(a,Types.Entities.GOLDENARMOR,"armor"),this.lootMessage="황금 갑옷 득템"}}),GreenArmor:a.extend({init:function(a){this._super(a,Types.Entities.GREENARMOR,"armor"),this.lootMessage="초록 갑옷 득템"}}),GreenWingArmor:a.extend({init:function(a){this._super(a,Types.Entities.GREENWINGARMOR,"armor"),this.lootMessage="초록 날개 갑옷 득템"}}),GuardArmor:a.extend({init:function(a){this._super(a,Types.Entities.GUARDARMOR,"armor"),this.lootMessage="경비병 갑옷 득템"}}),RedGuardArmor:a.extend({init:function(a){this._super(a,Types.Entities.REDGUARDARMOR,"armor"),this.lootMessage="레드 가드 아머 득템"}}),WhiteArmor:a.extend({init:function(a){this._super(a,Types.Entities.WHITEARMOR,"armor"),this.lootMessage="하얀 갑옷 득템"}}),RatArmor:a.extend({init:function(a){this._super(a,Types.Entities.RATARMOR,"armor"),this.lootMessage="랫아머 득템"}}),BluepirateArmor:a.extend({init:function(a){this._super(a,Types.Entities.BLUEPIRATEARMOR,"armor"),this.lootMessage="푸른 해적 갑옷 득템"}}),CheoliArmor:a.extend({init:function(a){this._super(a,Types.Entities.CHEOLIARMOR,"armor"),this.lootMessage="철이 갑옷 득템"}}),DovakinArmor:a.extend({init:function(a){this._super(a,Types.Entities.DOVAKINARMOR,"armor"),this.lootMessage="도바킨 아머 득템"}}),GbwingArmor:a.extend({init:function(a){this._super(a,Types.Entities.GBWINGARMOR,"armor"),this.lootMessage="청록 날개 갑옷 득템"}}),RedwingArmor:a.extend({init:function(a){this._super(a,Types.Entities.REDWINGARMOR,"armor"),this.lootMessage="붉은 날개 갑옷 득템"}}),SnowfoxArmor:a.extend({init:function(a){this._super(a,Types.Entities.SNOWFOXARMOR,"armor"),this.lootMessage="눈여우 갑옷 득템"}}),WolfArmor:a.extend({init:function(a){this._super(a,Types.Entities.WOLFARMOR,"armor"),this.lootMessage="늑대 갑옷 득템"}}),BluewingArmor:a.extend({init:function(a){this._super(a,Types.Entities.BLUEWINGARMOR,"armor"),this.lootMessage="파랑 날개 갑옷 득템"}}),ThiefArmor:a.extend({init:function(a){this._super(a,Types.Entities.THIEFARMOR,"armor"),this.lootMessage="도둑옷 득템"}}),NinjaArmor:a.extend({init:function(a){this._super(a,Types.Entities.NINJAARMOR,"armor"),this.lootMessage="닌자옷 갑옷 득템"}}),DragonArmor:a.extend({init:function(a){this._super(a,Types.Entities.DRAGONARMOR,"armor"),this.lootMessage="드래곤 갑옷 득템"}}),FallenArmor:a.extend({init:function(a){this._super(a,Types.Entities.FALLENARMOR,"armor"),this.lootMessage="폴른 아머 득템"}}),PaladinArmor:a.extend({init:function(a){this._super(a,Types.Entities.PALADINARMOR,"armor"),this.lootMessage="팔라딘 갑옷 득템"}}),CrystalArmor:a.extend({init:function(a){this._super(a,Types.Entities.CRYSTALARMOR,"armor"),this.lootMessage="수정 갑옷 득템"}}),AdhererRobe:a.extend({init:function(a){this._super(a,Types.Entities.ADHERERROBE,"armor"),this.lootMessage="추종자 로브 득템"}}),FrostArmor:a.extend({init:function(a){this._super(a,Types.Entities.FROSTARMOR,"armor"),this.lootMessage="서리 갑옷 득템"}}),GayArmor:a.extend({init:function(a){this._super(a,Types.Entities.GAYARMOR,"armor"),this.lootMessage="들어올 땐 마음대로지만 나갈 땐 아니란다."}}),SchoolUniform:a.extend({init:function(a){this._super(a,Types.Entities.SCHOOLUNIFORM,"armor"),this.lootMessage="교복 득템"}}),BeautifulLife:a.extend({init:function(a){this._super(a,Types.Entities.BEAUTIFULLIFE,"armor"),this.lootMessage="폐인옷 득템"}}),RegionArmor:a.extend({init:function(a){this._super(a,Types.Entities.REGIONARMOR,"armor"),this.lootMessage="레기온 아머 득템"}}),GhostRider:a.extend({init:function(a){this._super(a,Types.Entities.GHOSTRIDER,"armor"),this.lootMessage="고스트라이더 아머 득템"}}),Taekwondo:a.extend({init:function(a){this._super(a,Types.Entities.TAEKWONDO,"armor"),this.lootMessage="고스트라이더 아머 득템"}}),Flask:a.extend({init:function(a){this._super(a,Types.Entities.FLASK,"object"),this.lootMessage="헬스 포션 마시쩡!"}}),Cake:a.extend({init:function(a){this._super(a,Types.Entities.CAKE,"object"),this.lootMessage="케이크 마시쩡!"}}),Burger:a.extend({init:function(a){this._super(a,Types.Entities.BURGER,"object"),this.lootMessage="햄버거 마시쩡!"}}),FirePotion:a.extend({init:function(a){this._super(a,Types.Entities.FIREPOTION,"object"),this.lootMessage="불여우 포션 마시쩡!"},onLoot:function(a){a.startInvincibility()}})};return b}),define("npc",["character"],function(a){var b=a.extend({init:function(a,b){this._super(a,b,1),this.itemKind=Types.getKindAsString(this.kind),this.talkIndex=0},talk:function(){if(this.beforeQuestCompleteTalk){var a=null,b=this.beforeQuestCompleteTalk.length;this.talkIndex>b&&(this.talkIndex=0),this.talkIndex<b&&(a=this.beforeQuestCompleteTalk[this.talkIndex]),this.talkIndex+=1;return a}return"안생겨요"}});return b}),define("npcs",["npc"],function(a){var b={King:a.extend({init:function(a){this._super(a,Types.Entities.KING,1),this.beforeQuestCompleteTalk=["크툴루가 레오나 공주를 잡아갔다네.","제발, 공주를 구해주게."]}}),VillageGirl:a.extend({init:function(a){this._super(a,Types.Entities.VILLAGEGIRL,1),this.beforeQuestCompleteTalk=["오빠, 마을에 쥐가 너무 많아","쥐 좀 10마리만 잡아줘"],this.afterQuestCompleteTalk=["나 할 말있어.","오빠, 나 살쪘지?","오빤, 내가 왜 화났는지 몰라?","뭘 잘못했는지는 알아?","그걸 꼭 말을 해야 알아?","뭐가 미안한데?","미안할 짓을 왜 하는데?","누가 지금 그것때문에 화났데?","변했어..","됐어. 오빠도 다른 남자랑 똑같아."]}}),Villager:a.extend({init:function(a){this._super(a,Types.Entities.VILLAGER,1),this.beforeQuestCompleteTalk=["저...저겨.. 저도 검사가 되고 싶은데...","가죽갑옷 좀 구해주실 수 있나요?"]}}),Guard:a.extend({init:function(a){this._super(a,Types.Entities.GUARD,1),this.beforeQuestCompleteTalk=["아이템은 좀 모았는가? 그래도 안생겨요.","오늘도 사냥인가? 그래도 안생겨요.","득템을 원하는가. 안 생긴다네.","안될거야, 아마."]}}),Scientist:a.extend({init:function(a){this._super(a,Types.Entities.SCIENTIST,1),this.beforeQuestCompleteTalk=["어, 하필이면... 칼이... 영 좋지 않은 곳에 맞았어요.","어느 정도 완쾌된 뒤에 말해주려고 했는데...","잘 알아두세요. 아...선생은 앞으로... 아이를... 가질 수가 없습니다.","다시 말해서, 성관계를 할 수 없다는 것이오.","칼이 가장 중요한 곳을 지나갔단 말입니다.","안정을 취하세요. 흥분하면 다시 출혈을 할 수가 있어요.","그렇게 되면 완치 못합니다.","이보세요. 여긴 지금 중환자실입니다! 전화는 없어요.","당신은 다른 병원에서 안되가지고 이리로 왔어요.","전화는 해로우니까. 그냥 푹 쉬세요."]}}),Nyan:a.extend({init:function(a){this._super(a,Types.Entities.NYAN,1),this.idleSpeed=50,this.beforeQuestCompleteTalk=["nyan nyan nyan nyan nyan","nyan nyan nyan nyan nyan nyan nyan","nyan nyan nyan nyan nyan nyan","nyan nyan nyan nyan nyan nyan nyan nyan"]}}),BeachNpc:a.extend({init:function(a){this._super(a,Types.Entities.BEACHNPC,1),this.beforeQuestCompleteTalk=["핫핫 안녕?","안 생기지?","말 안해도 알지?","동정에서 벗어나는 법을 알려줄까?","여자 옆에서 물건을... 아 넌 여자가 없구나. 미안."]}}),DesertNpc:a.extend({init:function(a){this._super(a,Types.Entities.DESERTNPC,1),this.beforeQuestCompleteTalk=["필경은 레벨의 4제곱이라네."]}}),Priest:a.extend({init:function(a){this._super(a,Types.Entities.PRIEST,1),this.beforeQuestCompleteTalk=["예수천국 불신지옥"]}}),Sorcerer:a.extend({init:function(a){this._super(a,Types.Entities.SORCERER,1),this.idleSpeed=150,this.beforeQuestCompleteTalk=["나는 대마법사 우엨앙!","벌써 120년이 지났나...","마법사가 되고 싶다고?","자네는 이미 자격이 충분해 보이는구만.."]}}),Coder:a.extend({init:function(a){this._super(a,Types.Entities.CODER,1),this.beforeQuestCompleteTalk=["안녕! 안생겨요는 모바일이나 타블렛PC에서도 할 수 있는 거 알죠?"]}}),LavaNpc:a.extend({init:function(a){this._super(a,Types.Entities.LAVANPC,1)}}),Agent:a.extend({init:function(a){this._super(a,Types.Entities.AGENT,1)}}),Rick:a.extend({init:function(a){this._super(a,Types.Entities.RICK,1)}}),ForestNpc:a.extend({init:function(a){this._super(a,Types.Entities.FORESTNPC,1)}}),Octocat:a.extend({init:function(a){this._super(a,Types.Entities.OCTOCAT,1)}})};return b}),define("chest",["entity"],function(a){var b=a.extend({init:function(a,b){this._super(a,Types.Entities.CHEST)},getSpriteName:function(){return"chest"},isMoving:function(){return!1},open:function(){this.open_callback&&this.open_callback()},onOpen:function(a){this.open_callback=a}});return b}),define("entityfactory",["mobs","items","npcs","warrior","chest"],function(a,b,c,d,e){var f={};f.createEntity=function(a,b,c){if(!a)log.error("kind is undefined",!0);else{if(!_.isFunction(f.builders[a]))throw Error(a+" is not a valid Entity type");return f.builders[a](b,c)}},f.builders=[],f.builders[Types.Entities.WARRIOR]=function(a,b){return new d(a,b)},f.builders[Types.Entities.RAT]=function(b){return new a.Rat(b)},f.builders[Types.Entities.SKELETON]=function(b){return new a.Skeleton(b)},f.builders[Types.Entities.SKELETON2]=function(b){return new a.Skeleton2(b)},f.builders[Types.Entities.SPECTRE]=function(b){return new a.Spectre(b)},f.builders[Types.Entities.DEATHKNIGHT]=function(b){return new a.Deathknight(b)},f.builders[Types.Entities.GOBLIN]=function(b){return new a.Goblin(b)},f.builders[Types.Entities.OGRE]=function(b){return new a.Ogre(b)},f.builders[Types.Entities.CRAB]=function(b){return new a.Crab(b)},f.builders[Types.Entities.SNAKE]=function(b){return new a.Snake(b)},f.builders[Types.Entities.EYE]=function(b){return new a.Eye(b)},f.builders[Types.Entities.BAT]=function(b){return new a.Bat(b)},f.builders[Types.Entities.WIZARD]=function(b){return new a.Wizard(b)},f.builders[Types.Entities.BOSS]=function(b){return new a.Boss(b)},f.builders[Types.Entities.ORC]=function(b){return new a.Orc(b)},f.builders[Types.Entities.GOLEM]=function(b){return new a.Golem(b)},f.builders[Types.Entities.OLDOGRE]=function(b){return new a.Oldogre(b)},f.builders[Types.Entities.MIMIC]=function(b){return new a.Mimic(b)},f.builders[Types.Entities.HOBGOBLIN]=function(b){return new a.Hobgoblin(b)},f.builders[Types.Entities.YELLOWMOUSE]=function(b){return new a.Yellowmouse(b)},f.builders[Types.Entities.WHITEMOUSE]=function(b){return new a.Whitemouse(b)},f.builders[Types.Entities.BROWNMOUSE]=function(b){return new a.Brownmouse(b)},f.builders[Types.Entities.REDMOUSE]=function(b){return new a.Redmouse(b)},f.builders[Types.Entities.REDGUARD]=function(b){return new a.Redguard(b)},f.builders[Types.Entities.INFECTEDGUARD]=function(b){return new a.Infectedguard(b)},f.builders[Types.Entities.LIVINGARMOR]=function(b){return new a.Livingarmor(b)},f.builders[Types.Entities.MERMAID]=function(b){return new a.Mermaid(b)},f.builders[Types.Entities.YELLOWFISH]=function(b){return new a.Yellowfish(b)},f.builders[Types.Entities.GREENFISH]=function(b){return new a.Greenfish(b)},f.builders[Types.Entities.REDFISH]=function(b){return new a.Redfish(b)},f.builders[Types.Entities.CLAM]=function(b){return new a.Clam(b)},f.builders[Types.Entities.PRETA]=function(b){return new a.Preta(b)},f.builders[Types.Entities.PIRATESKELETON]=function(b){return new a.Pirateskeleton(b)},f.builders[Types.Entities.PENGUIN]=function(b){return new a.Penguin(b)},f.builders[Types.Entities.MOLEKING]=function(b){return new a.Moleking(b)},f.builders[Types.Entities.DARKSKELETON]=function(b){return new a.Darkskeleton(b)},f.builders[Types.Entities.GREENPIRATESKELETON]=function(b){return new a.Greenpirateskeleton(b)},f.builders[Types.Entities.BLACKPIRATESKELETON]=function(b){return new a.Blackpirateskeleton(b)},f.builders[Types.Entities.REDPIRATESKELETON]=function(b){return new a.Redpirateskeleton(b)},f.builders[Types.Entities.YELLOWPRETA]=function(b){return new a.Yellowpreta(b)},f.builders[Types.Entities.BLUEPRETA]=function(b){return new a.Bluepreta(b)},f.builders[Types.Entities.MINIKNIGHT]=function(b){return new a.Miniknight(b)},f.builders[Types.Entities.WOLF]=function(b){return new a.Wolf(b)},f.builders[Types.Entities.PINKELF]=function(b){return new a.Pinkelf(b)},f.builders[Types.Entities.SKYELF]=function(b){return new a.Skyelf(b)},f.builders[Types.Entities.REDELF]=function(b){return new a.Redelf(b)},f.builders[Types.Entities.HERMITCRAB]=function(b){return new a.Hermitcrab(b)},f.builders[Types.Entities.ZOMBIE]=function(b){return new a.Zombie(b)},f.builders[Types.Entities.PIRATECAPTAIN]=function(b){return new a.Piratecaptain(b)},f.builders[Types.Entities.IRONOGRE]=function(b){return new a.Ironogre(b)},f.builders[Types.Entities.OGRELORD]=function(b){return new a.Ogrelord(b)},f.builders[Types.Entities.ADHERER]=function(b){return new a.Adherer(b)},f.builders[Types.Entities.ICEGOLEM]=function(b){return new a.Icegolem(b)},f.builders[Types.Entities.DESERTSCOLPION]=function(b){return new a.Desertscolpion(b)},f.builders[Types.Entities.DARKSCOLPION]=function(b){return new a.Darkscolpion(b)},f.builders[Types.Entities.VULTURE]=function(b){return new a.Vulture(b)},f.builders[Types.Entities.FORESTDRAGON]=function(b){return new a.Forestdragon(b)},f.builders[Types.Entities.CRYSTALSCOLPION]=function(b){return new a.Crystalscolpion(b)},f.builders[Types.Entities.ELIMINATOR]=function(b){return new a.Eliminator(b)},f.builders[Types.Entities.FROSTQUEEN]=function(b){return new a.Frostqueen(b)},f.builders[Types.Entities.SNOWRABBIT]=function(b){return new a.Snowrabbit(b)},f.builders[Types.Entities.SNOWWOLF]=function(b){return new a.Snowwolf(b)},f.builders[Types.Entities.ICEKNIGHT]=function(b){return new a.Iceknight(b)},f.builders[Types.Entities.MINIICEKNIGHT]=function(b){return new a.Miniiceknight(b)},f.builders[Types.Entities.SNOWELF]=function(b){return new a.Snowelf(b)},f.builders[Types.Entities.WHITEBEAR]=function(b){return new a.Whitebear(b)},f.builders[Types.Entities.COBRA]=function(b){return new a.Cobra(b)},f.builders[Types.Entities.GOLDGOLEM]=function(b){return new a.Goldgolem(b)},f.builders[Types.Entities.DARKREGION]=function(b){return new a.Darkregion(b)},f.builders[Types.Entities.DARKREGIONILLUSION]=function(b){return new a.Darkregionillusion(b)},f.builders[Types.Entities.BLOODREGION]=function(b){return new a.Bloodregion(b)},f.builders[Types.Entities.DARKOGRE]=function(b){return new a.Darkogre(b)},f.builders[Types.Entities.SWORD2]=function(a){return new b.Sword2(a)},f.builders[Types.Entities.AXE]=function(a){return new b.Axe(a)},f.builders[Types.Entities.REDSWORD]=function(a){return new b.RedSword(a)},f.builders[Types.Entities.BLUESWORD]=function(a){return new b.BlueSword(a)},f.builders[Types.Entities.GOLDENSWORD]=function(a){return new b.GoldenSword(a)},f.builders[Types.Entities.MORNINGSTAR]=function(a){return new b.MorningStar(a)},f.builders[Types.Entities.SIDESWORD]=function(a){return new b.SideSword(a)},f.builders[Types.Entities.SPEAR]=function(a){return new b.Spear(a)},f.builders[Types.Entities.SCIMITAR]=function(a){return new b.Scimitar(a)},f.builders[Types.Entities.TRIDENT]=function(a){return new b.Trident(a)},f.builders[Types.Entities.BLUESCIMITAR]=function(a){return new b.Bluescimitar(a)},f.builders[Types.Entities.HAMMER]=function(a){return new b.Hammer(a)},f.builders[Types.Entities.GREENLIGHTSABER]=function(a){return new b.Greenlightsaber(a)},f.builders[Types.Entities.SKYLIGHTSABER]=function(a){return new b.Skylightsaber(a)},f.builders[Types.Entities.REDLIGHTSABER]=function(a){return new b.Redlightsaber(a)},f.builders[Types.Entities.REDMETALSWORD]=function(a){return new b.Redmetalsword(a)},f.builders[Types.Entities.BASTARDSWORD]=function(a){return new b.Bastardsword(a)},f.builders[Types.Entities.HALBERD]=function(a){return new b.Halberd(a)},f.builders[Types.Entities.ROSE]=function(a){return new b.Rose(a)},f.builders[Types.Entities.ICEROSE]=function(a){return new b.Icerose(a)},f.builders[Types.Entities.JUSTICEHAMMER]=function(a){return new b.Justicehammer(a)},f.builders[Types.Entities.FIRESWORD]=function(a){return new b.Firesword(a)},f.builders[Types.Entities.WHIP]=function(a){return new b.Whip(a)},f.builders[Types.Entities.FORESTGUARDIANSWORD]=function(a){return new b.Forestguardiansword(a)},f.builders[Types.Entities.MAILARMOR]=function(a){return new b.MailArmor(a)},f.builders[Types.Entities.LEATHERARMOR]=function(a){return new b.LeatherArmor(a)},f.builders[Types.Entities.PLATEARMOR]=function(a){return new b.PlateArmor(a)},f.builders[Types.Entities.REDARMOR]=function(a){return new b.RedArmor(a)},f.builders[Types.Entities.GOLDENARMOR]=function(a){return new b.GoldenArmor(a)},f.builders[Types.Entities.GREENARMOR]=function(a){return new b.GreenArmor(a)},f.builders[Types.Entities.GREENWINGARMOR]=function(a){return new b.GreenWingArmor(a)},f.builders[Types.Entities.GUARDARMOR]=function(a){return new b.GuardArmor(a)},f.builders[Types.Entities.REDGUARDARMOR]=function(a){return new b.RedGuardArmor(a)},f.builders[Types.Entities.WHITEARMOR]=function(a){return new b.WhiteArmor(a)},f.builders[Types.Entities.RATARMOR]=function(a){return new b.RatArmor(a)},f.builders[Types.Entities.BLUEPIRATEARMOR]=function(a){return new b.BluepirateArmor(a)},f.builders[Types.Entities.CHEOLIARMOR]=function(a){return new b.CheoliArmor(a)},f.builders[Types.Entities.DOVAKINARMOR]=function(a){return new b.DovakinArmor(a)},f.builders[Types.Entities.GBWINGARMOR]=function(a){return new b.GbwingArmor(a)},f.builders[Types.Entities.REDWINGARMOR]=function(a){return new b.RedwingArmor(a)},f.builders[Types.Entities.SNOWFOXARMOR]=function(a){return new b.SnowfoxArmor(a)},f.builders[Types.Entities.WOLFARMOR]=function(a){return new b.WolfArmor(a)},f.builders[Types.Entities.BLUEWINGARMOR]=function(a){return new b.BluewingArmor(a)},f.builders[Types.Entities.THIEFARMOR]=function(a){return new b.ThiefArmor(a)},f.builders[Types.Entities.NINJAARMOR]=function(a){return new b.NinjaArmor(a)},f.builders[Types.Entities.DRAGONARMOR]=function(a){return new b.DragonArmor(a)},f.builders[Types.Entities.FALLENARMOR]=function(a){return new b.FallenArmor(a)},f.builders[Types.Entities.PALADINARMOR]=function(a){return new b.PaladinArmor(a)},f.builders[Types.Entities.CRYSTALARMOR]=function(a){return new b.CrystalArmor(a)},f.builders[Types.Entities.ADHERERROBE]=function(a){return new b.AdhererRobe(a)},f.builders[Types.Entities.FROSTARMOR]=function(a){return new b.FrostArmor(a)},f.builders[Types.Entities.GAYARMOR]=function(a){return new b.GayArmor(a)},f.builders[Types.Entities.SCHOOLUNIFORM]=function(a){return new b.SchoolUniform(a)},f.builders[Types.Entities.BEAUTIFULLIFE]=function(a){return new b.BeautifulLife(a)},f.builders[Types.Entities.REGIONARMOR]=function(a){return new b.RegionArmor(a)},f.builders[Types.Entities.GHOSTRIDER]=function(a){return new b.GhostRider(a)},f.builders[Types.Entities.TAEKWONDO]=function(a){return new b.Taekwondo(a)},f.builders[Types.Entities.FLASK]=function(a){return new b.Flask(a)},f.builders[Types.Entities.FIREPOTION]=function(a){return new b.FirePotion(a)},f.builders[Types.Entities.BURGER]=function(a){return new b.Burger(a)},f.builders[Types.Entities.CAKE]=function(a){return new b.Cake(a)},f.builders[Types.Entities.CHEST]=function(a){return new e(a)},f.builders[Types.Entities.GUARD]=function(a){return new c.Guard(a)},f.builders[Types.Entities.KING]=function(a){return new c.King(a)},f.builders[Types.Entities.VILLAGEGIRL]=function(a){return new c.VillageGirl(a)},f.builders[Types.Entities.VILLAGER]=function(a){return new c.Villager(a)},f.builders[Types.Entities.CODER]=function(a){return new c.Coder(a)},f.builders[Types.Entities.AGENT]=function(a){return new c.Agent(a)},f.builders[Types.Entities.RICK]=function(a){return new c.Rick(a)},f.builders[Types.Entities.SCIENTIST]=function(a){return new c.Scientist(a)},f.builders[Types.Entities.NYAN]=function(a){return new c.Nyan(a)},f.builders[Types.Entities.PRIEST]=function(a){return new c.Priest(a)},f.builders[Types.Entities.SORCERER]=function(a){return new c.Sorcerer(a)},f.builders[Types.Entities.OCTOCAT]=function(a){return new c.Octocat(a)},f.builders[Types.Entities.BEACHNPC]=function(a){return new c.BeachNpc(a)},f.builders[Types.Entities.FORESTNPC]=function(a){return new c.ForestNpc(a)},f.builders[Types.Entities.DESERTNPC]=function(a){return new c.DesertNpc(a)},f.builders[Types.Entities.LAVANPC]=function(a){return new c.LavaNpc(a)};return f}),function(a){function h(b){var c=0,d=b.length,e=[],f=a,g=null,h=0,i=-1,j=!1,k=!1,l="",m=null,n=0;while(c<d){h=b.charCodeAt(c++),g=e[i];if(j&&k&&h>16)l=b.substring(c,c+h-17),c+=h-17,k=!1;else if(h===8||h===10)m=h===8?[]:new Object,k=j=h===10,f!==a?g instanceof Array?g.push(m):g[l]=m:f=m,e.push(m),i++;else if(h===11||h===9)e.pop(),k=j=!(e[--i]instanceof Array);else if(h>16)h=h-17,h=h>115?0-h+116:h+1,g instanceof Array?g.push(h):g[l]=h,k=!0;else if(h>0&&h<5)((h-1)/2|0)===0?(m=b.charCodeAt(c),c++):(m=(b.charCodeAt(c)<<16)+b.charCodeAt(c+1),c+=2),m=h%2?m+1:0-m,g instanceof Array?g.push(m):g[l]=m,k=!0;else if(h>12&&h<17)((h-13)/2|0)===0?(n=b.charCodeAt(c),n>127?(m=0,n-=128,c++):(m=b.charCodeAt(c+1),c+=2)):(m=(b.charCodeAt(c)<<16)+b.charCodeAt(c+1),n=b.charCodeAt(c+2),c+=3),m=h%2?m+n*.01:0-(m+n*.01),g instanceof Array?g.push(m):g[l]=m,k=!0;else if(h>4&&h<7)g instanceof Array?g.push(h===5):g[l]=h===5,k=!0;else if(h===0)g instanceof Array?g.push(null):g[l]=null,k=!0;else if(h===7){m=0;while(b.charCodeAt(c)===65535)m+=65535,c++;m+=b.charCodeAt(c++),g instanceof Array?g.push(b.substr(c,m)):g[l]=b.substr(c,m),c+=m,k=!0}}return f}function g(a){e="",f(a,!0);return e}function f(a,b){if(typeof a=="number"){var d=a|0;if(d!==a){var g=0,h=(a-d)*100;h<0?(g=(h+1|0)-h,h=g>=1&&g<=1.5?h|0:h-1|0):(g=h|0,h=h-g>=.5?h+1|0:g),g=0,a<0&&(d=0-d,h=0-h,g=1),d<65536?d===0?e+=c[13+g]+c[h+128]:e+=c[13+g]+c[h]+c[d]:e+=c[15+g]+c[d>>16&65535]+c[d&65535]+c[h]}else{var g=0;a<=0?(a=0-a,g=1):a--,a<116?e+=c[17+a+g*116]:a<65536?e+=c[1+g]+c[a]:e+=c[3+g]+c[a>>16&65535]+c[a&65535]}}else if(typeof a=="string"){var i=a.length;e+=c[7];while(i>=65535)i-=65535,e+=c[65535];e+=c[i]+a}else if(a===!0)e+=c[5];else if(a===!1)e+=c[6];else if(a===null)e+=c[0];else if(a instanceof Array){e+=c[8];for(var j=0,i=a.length;j<i;j++)f(a[j],!1);b||(e+=c[9])}else if(a instanceof Object){e+=c[10];for(var k in a)e+=c[17+k.length]+k,f(a[k],!1);b||(e+=c[11])}}var b=String.fromCharCode,c=Array(65536);for(var d=0;d<65536;d++)c[d]=b(d);var e="";typeof window=="undefined"?(exports.encode=g,exports.decode=h):window.BISON={encode:g,decode:h}}(),define("lib/bison",function(){}),define("gameclient",["player","entityfactory","lib/bison"],function(a,b,c){var d=Class.extend({init:function(a,b){this.connection=null,this.host=a,this.port=b,this.connected_callback=null,this.spawn_callback=null,this.movement_callback=null,this.wrongpw_callback=null,this.ban_callback=null,this.handlers=[],this.handlers[Types.Messages.WELCOME]=this.receiveWelcome,this.handlers[Types.Messages.MOVE]=this.receiveMove,this.handlers[Types.Messages.LOOTMOVE]=this.receiveLootMove,this.handlers[Types.Messages.ATTACK]=this.receiveAttack,this.handlers[Types.Messages.SPAWN]=this.receiveSpawn,this.handlers[Types.Messages.DESPAWN]=this.receiveDespawn,this.handlers[Types.Messages.SPAWN_BATCH]=this.receiveSpawnBatch,this.handlers[Types.Messages.HEALTH]=this.receiveHealth,this.handlers[Types.Messages.CHAT]=this.receiveChat,this.handlers[Types.Messages.EQUIP]=this.receiveEquipItem,this.handlers[Types.Messages.DROP]=this.receiveDrop,this.handlers[Types.Messages.TELEPORT]=this.receiveTeleport,this.handlers[Types.Messages.DAMAGE]=this.receiveDamage,this.handlers[Types.Messages.POPULATION]=this.receivePopulation,this.handlers[Types.Messages.LIST]=this.receiveList,this.handlers[Types.Messages.DESTROY]=this.receiveDestroy,this.handlers[Types.Messages.KILL]=this.receiveKill,this.handlers[Types.Messages.HP]=this.receiveHitPoints,this.handlers[Types.Messages.BLINK]=this.receiveBlink,this.handlers[Types.Messages.PVP]=this.receivePVP,this.handlers[Types.Messages.ACHIEVEMENT]=this.receiveAchievement,this.useBison=!1,this.enable()},enable:function(){this.isListening=!0},disable:function(){this.isListening=!1},connect:function(a){var b="ws://"+this.host+":"+this.port+"/",c=this;log.info("Trying to connect to server : "+b),window.MozWebSocket?this.connection=new MozWebSocket(b):this.connection=new WebSocket(b),a?this.connection.onmessage=function(a){var b=JSON.parse(a.data);b.status==="OK"?c.dispatched_callback(b.host,b.port):b.status==="FULL"?alert("BrowserQuest is currently at maximum player population. Please retry later."):alert("Unknown error while connecting to BrowserQuest.")}:(this.connection.onopen=function(a){log.info("Connected to server "+c.host+":"+c.port)},this.connection.onmessage=function(a){if(a.data==="go")c.connected_callback&&c.connected_callback();else{if(a.data==="timeout"){c.isTimeout=!0;return}if(a.data==="wrongpw"){c.wrongpw_callback&&c.wrongpw_callback();return}if(a.data==="ban"){c.ban_callback&&c.ban_callback();return}c.receiveMessage(a.data)}},this.connection.onerror=function(a){log.error(a,!0)},this.connection.onclose=function(){log.debug("Connection closed"),$("#container").addClass("error"),c.disconnected_callback&&(c.isTimeout?c.disconnected_callback("You have been disconnected for being inactive for too long"):c.disconnected_callback("The connection to ASKY has been lost"))})},sendMessage:function(a){var b;this.connection.readyState===1&&(this.useBison?b=c.encode(a):b=JSON.stringify(a),this.connection.send(b))},receiveMessage:function(a){var b,d;this.isListening&&(this.useBison?b=c.decode(a):b=JSON.parse(a),log.debug("data: "+a),b instanceof Array&&(b[0]instanceof Array?this.receiveActionBatch(b):this.receiveAction(b)))},receiveAction:function(a){var b=a[0];this.handlers[b]&&_.isFunction(this.handlers[b])?this.handlers[b].call(this,a):log.error("Unknown action : "+b)},receiveActionBatch:function(a){var b=this;_.each(a,function(a){b.receiveAction(a)})},receiveWelcome:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],g=a[6],h=a[7],i=a[8],j=a[9],k=a[10],l=a[11],m=[a[12],a[14],a[16]],n=[a[13],a[15],a[17]];this.welcome_callback&&this.welcome_callback(b,c,d,e,f,g,h,i,j,k,l,m,n)},receiveMove:function(a){var b=a[1],c=a[2],d=a[3];this.move_callback&&this.move_callback(b,c,d)},receiveLootMove:function(a){var b=a[1],c=a[2];this.lootmove_callback&&this.lootmove_callback(b,c)},receiveAttack:function(a){var b=a[1],c=a[2];this.attack_callback&&this.attack_callback(b,c)},receiveSpawn:function(c){var d=c[1],e=c[2],f=c[3],g=c[4];if(Types.isItem(e)){var h=b.createEntity(e,d);this.spawn_item_callback&&this.spawn_item_callback(h,f,g)}else if(Types.isChest(e)){var h=b.createEntity(e,d);this.spawn_chest_callback&&this.spawn_chest_callback(h,f,g)}else{var i,j,k,l,m;Types.isPlayer(e)?(i=c[5],j=c[6],m=c[7],l=c[8],c.length>9&&(k=c[9])):Types.isMob(e)&&(j=c[5],c.length>6&&(k=c[6]));var n=b.createEntity(e,d,i);n instanceof a&&(n.weaponName=Types.getKindAsString(l),n.spriteName=Types.getKindAsString(m)),this.spawn_character_callback&&this.spawn_character_callback(n,f,g,j,k)}},receiveDespawn:function(a){var b=a[1];this.despawn_callback&&this.despawn_callback(b)},receiveHealth:function(a){var b=a[1],c=!1;a[2]&&(c=!0),this.health_callback&&this.health_callback(b,c)},receiveChat:function(a){var b=a[1],c=a[2];this.chat_callback&&this.chat_callback(b,c)},receiveEquipItem:function(a){var b=a[1],c=a[2];this.equip_callback&&this.equip_callback(b,c)},receiveDrop:function(a){var c=a[1],d=a[2],e=a[3],f=b.createEntity(e,d);f.wasDropped=!0,f.playersInvolved=a[4],this.drop_callback&&this.drop_callback(f,c)},receiveTeleport:function(a){var b=a[1],c=a[2],d=a[3];this.teleport_callback&&this.teleport_callback(b,c,d)},receiveDamage:function(a){var b=a[1],c=a[2],d=parseInt(a[3]),e=parseInt(a[4]);this.dmg_callback&&this.dmg_callback(b,c,d,e)},receivePopulation:function(a){var b=a[1],c=a[2];this.population_callback&&this.population_callback(b,c)},receiveKill:function(a){var b=a[1],c=a[2],d=a[3];this.kill_callback&&this.kill_callback(b,c,d)},receiveList:function(a){a.shift(),this.list_callback&&this.list_callback(a)},receiveDestroy:function(a){var b=a[1];this.destroy_callback&&this.destroy_callback(b)},receiveHitPoints:function(a){var b=a[1];this.hp_callback&&this.hp_callback(b)},receiveBlink:function(a){var b=a[1];this.blink_callback&&this.blink_callback(b)},receivePVP:function(a){var b=a[1];this.pvp_callback&&this.pvp_callback(b)},receiveAchievement:function(a){var b=a[1],c=a[2];this.achievement_callback&&this.achievement_callback(b,c)},onDispatched:function(a){this.dispatched_callback=a},onConnected:function(a){this.connected_callback=a},onDisconnected:function(a){this.disconnected_callback=a},onWelcome:function(a){this.welcome_callback=a},onSpawnCharacter:function(a){this.spawn_character_callback=a},onSpawnItem:function(a){this.spawn_item_callback=a},onSpawnChest:function(a){this.spawn_chest_callback=a},onDespawnEntity:function(a){this.despawn_callback=a},onEntityMove:function(a){this.move_callback=a},onEntityAttack:function(a){this.attack_callback=a},onPlayerChangeHealth:function(a){this.health_callback=a},onPlayerEquipItem:function(a){this.equip_callback=a},onPlayerMoveToItem:function(a){this.lootmove_callback=a},onPlayerTeleport:function(a){this.teleport_callback=a},onChatMessage:function(a){this.chat_callback=a},onDropItem:function(a){this.drop_callback=a},onPlayerDamageMob:function(a){this.dmg_callback=a},onPlayerKillMob:function(a){this.kill_callback=a},onPopulationChange:function(a){this.population_callback=a},onEntityList:function(a){this.list_callback=a},onEntityDestroy:function(a){this.destroy_callback=a},onPlayerChangeMaxHitPoints:function(a){this.hp_callback=a},onItemBlink:function(a){this.blink_callback=a},onPVPChange:function(a){this.pvp_callback=a},onAchievement:function(a){this.achievement_callback=a},sendHello:function(a){this.sendMessage([Types.Messages.HELLO,a.name,a.pw,a.email])},sendMove:function(a,b){this.sendMessage([Types.Messages.MOVE,a,b])},sendLootMove:function(a,b,c){this.sendMessage([Types.Messages.LOOTMOVE,b,c,a.id])},sendAggro:function(a){this.sendMessage([Types.Messages.AGGRO,a.id])},sendAttack:function(a){this.sendMessage([Types.Messages.ATTACK,a.id])},sendHit:function(a){this.sendMessage([Types.Messages.HIT,a.id])},sendHurt:function(a){this.sendMessage([Types.Messages.HURT,a.id])},sendChat:function(a){this.sendMessage([Types.Messages.CHAT,a])},sendLoot:function(a){this.sendMessage([Types.Messages.LOOT,a.id])},sendTeleport:function(a,b){this.sendMessage([Types.Messages.TELEPORT,a,b])},sendWho:function(a){a.unshift(Types.Messages.WHO),this.sendMessage(a)},sendZone:function(){this.sendMessage([Types.Messages.ZONE])},sendOpen:function(a){this.sendMessage([Types.Messages.OPEN,a.id])},sendCheck:function(a){this.sendMessage([Types.Messages.CHECK,a])},sendInventory:function(a,b){this.sendMessage([Types.Messages.INVENTORY,a,b])},sendAchievement:function(a,b){this.sendMessage([Types.Messages.ACHIEVEMENT,a,b])},sendTalkToNPC:function(a){this.sendMessage([Types.Messages.TALKTONPC,a])}});return d}),define("audio",["area"],function(a){var b=Class.extend({init:function(a){var b=this;this.enabled=!0,this.extension=Detect.canPlayMP3()?"mp3":"ogg",this.sounds={},this.game=a,this.currentMusic=null,this.areas=[],this.musicNames=["village","beach","forest","cave","desert","lavaland","boss","dungeon","underthesea1","underthesea2"],this.soundNames=["loot","hit1","hit2","hurt","heal","chat","revive","death","firefox","achievement","kill1","kill2","noloot","teleport","chest","npc","npc-end"];var c=function(){var a=_.size(b.soundNames);log.info("Loading sound files..."),_.each(b.soundNames,function(c){b.loadSound(c,function(){a-=1,a===0&&(Detect.isSafari()||d())})})},d=function(){b.game.renderer.mobile||(log.info("Loading music files..."),b.loadMusic(b.musicNames.shift(),function(){_.each(b.musicNames,function(a){b.loadMusic(a)})}))};!Detect.isSafari()||!Detect.isWindows()?c():this.enabled=!1},toggle:function(){this.enabled?(this.enabled=!1,this.currentMusic&&this.resetMusic(this.currentMusic)):(this.enabled=!0,this.currentMusic&&(this.currentMusic=null),this.updateMusic())},load:function(a,b,c,d){var e=a+b+"."+this.extension,f=document.createElement("audio"),g=this;f.addEventListener("canplaythrough",function(a){this.removeEventListener("canplaythrough",arguments.callee,!1),log.debug(e+" is ready to play."),c&&c()},!1),f.addEventListener("error",function(a){log.error("Error: "+e+" could not be loaded."),g.sounds[b]=null},!1),f.preload="auto",f.autobuffer=!0,f.src=e,f.load(),this.sounds[b]=[f],_.times(d-1,function(){g.sounds[b].push(f.cloneNode(!0))})},loadSound:function(a,b){this.load("audio/sounds/",a,b,4)},loadMusic:function(a,b){this.load("audio/music/",a,b,1);var c=this.sounds[a][0];c.loop=!0,c.addEventListener("ended",function(){c.play()},!1)},getSound:function(a){if(!this.sounds[a])return null;var b=_.detect(this.sounds[a],function(a){return a.ended||a.paused});b&&b.ended?b.currentTime=0:b=this.sounds[a][0];return b},playSound:function(a){var b=this.enabled&&this.getSound(a);b&&b.play()},addArea:function(b,c,d,e,f){var g=new a(b,c,d,e);g.musicName=f,this.areas.push(g)},getSurroundingMusic:function(a){var b=null,c=_.detect(this.areas,function(b){return b.contains(a)});c&&(b={sound:this.getSound(c.musicName),name:c.musicName});return b},updateMusic:function(){if(this.enabled){var a=this.getSurroundingMusic(this.game.player);a?this.isCurrentMusic(a)||(this.currentMusic&&this.fadeOutCurrentMusic(),this.playMusic(a)):this.fadeOutCurrentMusic()}},isCurrentMusic:function(a){return this.currentMusic&&a.name===this.currentMusic.name},playMusic:function(a){this.enabled&&a&&a.sound&&(a.sound.fadingOut?this.fadeInMusic(a):(a.sound.volume=1,a.sound.play()),this.currentMusic=a)},resetMusic:function(a){a&&a.sound&&a.sound.readyState>0&&(a.sound.pause(),a.sound.currentTime=0)},fadeOutMusic:function(a,b){var c=this;a&&!a.sound.fadingOut&&(this.clearFadeIn(a),a.sound.fadingOut=setInterval(function(){var d=.02;volume=a.sound.volume-d,c.enabled&&volume>=d?a.sound.volume=volume:(a.sound.volume=0,c.clearFadeOut(a),b(a))},50))},fadeInMusic:function(a){var b=this;a&&!a.sound.fadingIn&&(this.clearFadeOut(a),a.sound.fadingIn=setInterval(function(){var c=.01;volume=a.sound.volume+c,b.enabled&&volume<1-c?a.sound.volume=volume:(a.sound.volume=1,b.clearFadeIn(a))},30))},clearFadeOut:function(a){a.sound.fadingOut&&(clearInterval(a.sound.fadingOut),a.sound.fadingOut=null)},clearFadeIn:function(a){a.sound.fadingIn&&(clearInterval(a.sound.fadingIn),a.sound.fadingIn=null)},fadeOutCurrentMusic:function(){var a=this;this.currentMusic&&(this.fadeOutMusic(this.currentMusic,function(b){a.resetMusic(b)}),this.currentMusic=null)}});return b}),define("updater",["character","timer"],function(a,b){var c=Class.extend({init:function(a){this.game=a,this.playerAggroTimer=new b(1e3)},update:function(){this.updateZoning(),this.updateCharacters(),this.updatePlayerAggro(),this.updateTransitions(),this.updateAnimations(),this.updateAnimatedTiles(),this.updateChatBubbles(),this.updateInfos()},updateCharacters:function(){var b=this;this.game.forEachEntity(function(c){var d=c instanceof a;c.isLoaded&&(d&&(b.updateCharacter(c),b.game.onCharacterUpdate(c)),b.updateEntityFading(c))})},updatePlayerAggro:function(){var a=this.game.currentTime,b=this.game.player;b&&!b.isMoving()&&!b.isAttacking()&&this.playerAggroTimer.isOver(a)&&b.checkAggro()},updateEntityFading:function(a){if(a&&a.isFading){var b=1e3,c=this.game.currentTime,d=c-a.startFadingTime;d>b?(this.isFading=!1,a.fadingAlpha=1):a.fadingAlpha=d/b}},updateTransitions:function(){var a=this,b=null,c=this.game.currentZoning;this.game.forEachEntity(function(c){b=c.movement,b&&b.inProgress&&b.step(a.game.currentTime)}),c&&c.inProgress&&c.step(this.game.currentTime)},updateZoning:function(){var a=this.game,b=a.camera,c=a.currentZoning,d=3,e=16,f=500;if(c&&c.inProgress===!1){var g=this.game.zoningOrientation,h=endValue=offset=0,i=null,j=null;if(g===Types.Orientations.LEFT||g===Types.Orientations.RIGHT)offset=(b.gridW-2)*e,h=g===Types.Orientations.LEFT?b.x-e:b.x+e,endValue=g===Types.Orientations.LEFT?b.x-offset:b.x+offset,i=function(c){b.setPosition(c,b.y),a.initAnimatedTiles(),a.renderer.renderStaticCanvases()},j=function(){b.setPosition(c.endValue,b.y),a.endZoning()};else if(g===Types.Orientations.UP||g===Types.Orientations.DOWN)offset=(b.gridH-2)*e,h=g===Types.Orientations.UP?b.y-e:b.y+e,endValue=g===Types.Orientations.UP?b.y-offset:b.y+offset,i=function(c){b.setPosition(b.x,c),a.initAnimatedTiles(),a.renderer.renderStaticCanvases()},j=function(){b.setPosition(b.x,c.endValue),a.endZoning()};c.start(this.game.currentTime,i,j,h,endValue,f)}},updateCharacter:function(a){var b=this,c=Math.round(16/Math.round(a.moveSpeed/(1e3/this.game.renderer.FPS)));a.isMoving()&&a.movement.inProgress===!1&&(a.orientation===Types.Orientations.LEFT?a.movement.start(this.game.currentTime,function(b){a.x=b,a.hasMoved()},function(){a.x=a.movement.endValue,a.hasMoved(),a.nextStep()},a.x-c,a.x-16,a.moveSpeed):a.orientation===Types.Orientations.RIGHT?a.movement.start(this.game.currentTime,function(b){a.x=b,a.hasMoved()},function(){a.x=a.movement.endValue,a.hasMoved(),a.nextStep()},a.x+c,a.x+16,a.moveSpeed):a.orientation===Types.Orientations.UP?a.movement.start(this.game.currentTime,function(b){a.y=b,a.hasMoved()},function(){a.y=a.movement.endValue,a.hasMoved(),a.nextStep()},a.y-c,a.y-16,a.moveSpeed):a.orientation===Types.Orientations.DOWN&&a.movement.start(this.game.currentTime,function(b){a.y=b,a.hasMoved()},function(){a.y=a.movement.endValue,a.hasMoved(),a.nextStep()},a.y+c,a.y+16,a.moveSpeed))},updateAnimations:function(){var a=this.game.currentTime;this.game.forEachEntity(function(b){var c=b.currentAnimation;c&&c.update(a)&&b.setDirty()});var b=this.game.sparksAnimation;b&&b.update(a);var c=this.game.targetAnimation;c&&c.update(a);var d=this.game.benefAnimation;d&&d.update(a)},updateAnimatedTiles:function(){var a=this,b=this.game.currentTime;this.game.forEachAnimatedTile(function(c){c.animate(b)&&(c.isDirty=!0,c.dirtyRect=a.game.renderer.getTileBoundingRect(c),(a.game.renderer.mobile||a.game.renderer.tablet)&&a.game.checkOtherDirtyRects(c.dirtyRect,c,c.x,c.y))})},updateChatBubbles:function(){var a=this.game.currentTime;this.game.bubbleManager.update(a)},updateInfos:function(){var a=this.game.currentTime;this.game.infoManager.update(a)}});return c}),define("lib/astar",[],function(){var a=function(){function h(h,i,j,k){var l=h[0].length,m=h.length,n=l*m,o=Math.abs,p=Math.max,q={},r=[],s=[{x:i[0],y:i[1],f:0,g:0,v:i[0]+i[1]*l}],t=1,u,v,w,x,y,z,A,B,C;j={x:j[0],y:j[1],v:j[0]+j[1]*l};switch(k){case"Diagonal":w=a;case"DiagonalFree":v=e;break;case"Euclidean":w=a;case"EuclideanFree":p=Math.sqrt,v=f;break;default:v=g,w=c}w||(w=b);do{z=n,A=0;for(x=0;x<t;++x)(k=s[x].f)<z&&(z=k,A=x);B=s.splice(A,1)[0];if(B.v!=j.v){--t,C=d(w,B.x,B.y,h,m,l);for(x=0,y=C.length;x<y;++x)(u=C[x]).p=B,u.f=u.g=0,u.v=u.x+u.y*l,u.v in q||(u.f=(u.g=B.g+v(u,B,o,p))+v(u,j,o,p),s[t++]=u,q[u.v]=1)}else{x=t=0;do r[x++]=[B.x,B.y];while(B=B.p);r.reverse()}}while(t);return r}function g(a,b,c,d){return c(a.x-b.x)+c(a.y-b.y)}function f(a,b,c,d){var e=a.x-b.x,f=a.y-b.y;return d(e*e+f*f)}function e(a,b,c,d){return d(c(a.x-b.x),c(a.y-b.y))}function d(a,b,c,d,e,f){var g=c-1,h=c+1,i=b+1,j=b-1,k=g>-1&&!d[g][b],l=h<e&&!d[h][b],m=i<f&&!d[c][i],n=j>-1&&!d[c][j],o=[],p=0;k&&(o[p++]={x:b,y:g}),m&&(o[p++]={x:i,y:c}),l&&(o[p++]={x:b,y:h}),n&&(o[p++]={x:j,y:c});return a(k,l,m,n,g,h,i,j,d,e,f,o,p)}function c(a,b,c,d,e,f,g,h,i,j,k,l,m){return l}function b(a,b,c,d,e,f,g,h,i,j,k,l,m){a=e>-1,b=f<j,c=g<k,d=h>-1,c&&(a&&!i[e][g]&&(l[m++]={x:g,y:e}),b&&!i[f][g]&&(l[m++]={x:g,y:f})),d&&(a&&!i[e][h]&&(l[m++]={x:h,y:e}),b&&!i[f][h]&&(l[m++]={x:h,y:f}));return l}function a(a,b,c,d,e,f,g,h,i,j,k,l,m){a&&(c&&!i[e][g]&&(l[m++]={x:g,y:e}),d&&!i[e][h]&&(l[m++]={x:h,y:e})),b&&(c&&!i[f][g]&&(l[m++]={x:g,y:f}),d&&!i[f][h]&&(l[m++]={x:h,y:f}));return l}return h}();return a}),define("pathfinder",["lib/astar"],function(a){var b=Class.extend({init:function(a,b){this.width=a,this.height=b,this.grid=null,this.blankGrid=[],this.initBlankGrid_(),this.ignored=[]},initBlankGrid_:function(){for(var a=0;a<this.height;a+=1){this.blankGrid[a]=[];for(var b=0;b<this.width;b+=1)this.blankGrid[a][b]=0}},findPath:function(b,c,d,e,f){var g=[c.gridX,c.gridY],h=[d,e],i;this.grid=b,this.applyIgnoreList_(!0),i=a(this.grid,g,h),i.length===0&&f===!0&&(i=this.findIncompletePath_(g,h));return i},findIncompletePath_:function(b,c){var d,e,f,g=[];d=a(this.blankGrid,b,c);for(var h=d.length-1;h>0;h-=1){e=d[h][0],f=d[h][1];if(this.grid[f][e]===0){g=a(this.grid,b,[e,f]);break}}return g},ignoreEntity:function(a){a&&this.ignored.push(a)},applyIgnoreList_:function(a){var b=this,c,d,e;_.each(this.ignored,function(e){c=e.isMoving()?e.nextGridX:e.gridX,d=e.isMoving()?e.nextGridY:e.gridY,c>=0&&d>=0&&(b.grid[d][c]=a?0:1)})},clearIgnoreList:function(){this.applyIgnoreList_(!1),this.ignored=[]}});return b}),define("text!../config/config_build.json",function(){return'{\n    "host": "localhost",\n    "port": 8001\n}\n'}),define("config",["text!../config/config_build.json"],function(a){var b={dev:{host:"localhost",port:8e3,dispatcher:!1},build:JSON.parse(a)};return b}),define("chathandler",["jquery"],function(){var a=Class.extend({init:function(a){this.self=this,this.game=a,this.chatLog=$("#chatLog"),this.max_height=15},processSendMessage:function(a){return this.processMessage(null,a,"senders")},processReceiveMessage:function(a,b){return this.processMessage(a,b,"receivers")},processMessage:function(a,b,c){var d=b.substring(0,3),e=this,f={senders:{"/1 ":function(a){e.game.client.sendChat("/1 "+e.game.player.name+": "+a);return!0}},receivers:{"/1 ":function(a,b){messageId=Math.floor(Math.random()*1e4),e.addToChatLog(b);return!0}}};if(d in f[c]&&typeof f[c][d]=="function")switch(c){case"senders":return f[c][d](b.substring(3));case"receivers":return f[c][d](a,b.substring(3))}return!1},addToChatLog:function(a){var b=this,c=$("<p>"+a+"</p>");$(c).appendTo(this.chatLog),$(this.chatLog).scrollTop(999999)},incChatWindow:function(){this.max_height+=5,this.chatLog.css("max-height",this.max_height+"%")},decChatWindow:function(){this.max_height-=5,this.max_height<5&&(this.max_height=5),this.chatLog.css("max-height",this.max_height+"%")}});return a}),define("textwindowhandler",["jquery"],function(){var a=Class.extend({init:function(){this.self=this,this.textWindowOn=!0,this.textWindow=$("#textWindow");var a="<table fontcolor=white><tr><td><p><h4>도움말</h4></p><p>전체채팅: /1 할말</p><p>+/- 키: 전체채팅창 최대 높이 조정</p><p>아래 물음표  버튼을 누르면 장비 순서 및 도움말을 볼 수 있습니다.</p></td><td><p><h4>업데이트 사항</h4></p><p><h5>Alpha5.9</h5></p><p>- +/- 키로 전체채팅창 높이 조정</p><p>- 획득경험치 공중에 뜨도록 함</p><p>- clotharmor 인벤창에서 안 보이던 버그 수정</p><p>- 퀘스트 추가</p></td></tr></table><footer>클릭하면 닫힙니다.</footer>";$("#textWindow").html(a),$("#textWindow").fadeIn("fast")},toggleTextWindow:function(){this.textWindowOn?(this.textWindowOn=!1,$("#textWindow").fadeOut("fast"),$("#helpbutton").removeClass("active")):(this.textWindowOn=!0,$("#textWindow").fadeIn("fast"),$("#helpbutton").addClass("active"))},setHtml:function(a){$("#textWindow").html(a)},close:function(){this.textWindowOn=!1,$("#textWindow").fadeOut("fast"),$("#helpbutton").removeClass("active")}});return a}),define("menu",["jquery"],function(){var a=Class.extend({init:function(){this.inventoryOn=null},clickInventory0:function(){this.inventoryOn==="inventory0"?this.close():this.inventoryOn="inventory0"},clickInventory1:function(){this.inventoryOn==="inventory1"?this.close():this.inventoryOn="inventory1"},close:function(){this.inventoryOn=null}});return a}),Types={Messages:{HELLO:0,WELCOME:1,SPAWN:2,DESPAWN:3,MOVE:4,LOOTMOVE:5,AGGRO:6,ATTACK:7,HIT:8,HURT:9,HEALTH:10,CHAT:11,LOOT:12,EQUIP:13,DROP:14,TELEPORT:15,DAMAGE:16,POPULATION:17,KILL:18,LIST:19,WHO:20,ZONE:21,DESTROY:22,HP:23,BLINK:24,OPEN:25,CHECK:26,PVP:27,INVENTORY:28,ACHIEVEMENT:29,TALKTONPC:30},Entities:{WARRIOR:1,RAT:2,SKELETON:3,GOBLIN:4,OGRE:5,SPECTRE:6,CRAB:7,BAT:8,WIZARD:9,EYE:10,SNAKE:11,SKELETON2:12,BOSS:13,DEATHKNIGHT:14,ORC:67,OLDOGRE:68,GOLEM:69,MIMIC:70,HOBGOBLIN:71,YELLOWMOUSE:75,WHITEMOUSE:76,BROWNMOUSE:77,REDMOUSE:80,REDGUARD:81,INFECTEDGUARD:85,LIVINGARMOR:86,MERMAID:87,YELLOWFISH:90,GREENFISH:91,REDFISH:92,CLAM:93,PRETA:94,PIRATESKELETON:95,PENGUIN:98,MOLEKING:99,DARKSKELETON:102,GREENPIRATESKELETON:103,BLACKPIRATESKELETON:104,REDPIRATESKELETON:105,YELLOWPRETA:106,BLUEPRETA:107,MINIKNIGHT:108,WOLF:109,PINKELF:115,SKYELF:117,REDELF:119,HERMITCRAB:141,ZOMBIE:121,PIRATECAPTAIN:122,IRONOGRE:123,OGRELORD:124,ADHERER:125,ICEGOLEM:126,DESERTSCOLPION:142,DARKSCOLPION:143,VULTURE:144,FORESTDRAGON:145,CRYSTALSCOLPION:146,ELIMINATOR:147,FROSTQUEEN:148,SNOWRABBIT:149,SNOWWOLF:150,ICEKNIGHT:151,MINIICEKNIGHT:152,SNOWELF:153,WHITEBEAR:154,COBRA:155,GOLDGOLEM:156,DARKREGION:157,DARKREGIONILLUSION:158,BLOODREGION:159,DARKOGRE:171,CLOTHARMOR:21,LEATHERARMOR:22,MAILARMOR:23,PLATEARMOR:24,REDARMOR:25,GOLDENARMOR:26,GREENARMOR:72,GREENWINGARMOR:73,GUARDARMOR:78,REDGUARDARMOR:82,WHITEARMOR:83,RATARMOR:88,BLUEPIRATEARMOR:96,CHEOLIARMOR:100,DOVAKINARMOR:110,GBWINGARMOR:111,REDWINGARMOR:112,SNOWFOXARMOR:113,WOLFARMOR:114,BLUEWINGARMOR:127,THIEFARMOR:128,NINJAARMOR:129,DRAGONARMOR:130,FALLENARMOR:131,PALADINARMOR:132,CRYSTALARMOR:133,ADHERERROBE:134,FROSTARMOR:135,GAYARMOR:160,SCHOOLUNIFORM:161,BEAUTIFULLIFE:162,REGIONARMOR:163,GHOSTRIDER:164,TAEKWONDO:170,FLASK:35,BURGER:36,CHEST:37,FIREPOTION:38,CAKE:39,GUARD:40,KING:41,OCTOCAT:42,VILLAGEGIRL:43,VILLAGER:44,PRIEST:45,SCIENTIST:46,AGENT:47,RICK:48,NYAN:49,SORCERER:50,BEACHNPC:51,FORESTNPC:52,DESERTNPC:53,LAVANPC:54,CODER:55,SWORD1:60,SWORD2:61,REDSWORD:62,GOLDENSWORD:63,MORNINGSTAR:64,AXE:65,BLUESWORD:66,SIDESWORD:74,SPEAR:79,SCIMITAR:84,TRIDENT:89,BLUESCIMITAR:97,HAMMER:101,GREENLIGHTSABER:116,SKYLIGHTSABER:118,REDLIGHTSABER:120,REDMETALSWORD:136,BASTARDSWORD:137,HALBERD:138,ROSE:139,ICEROSE:140,JUSTICEHAMMER:165,FIRESWORD:166,WHIP:167,FORESTGUARDIANSWORD:168,DEBENEF:20,FIREBENEF:169},Orientations:{UP:1,DOWN:2,LEFT:3,RIGHT:4}};var kinds={warrior:[Types.Entities.WARRIOR,"player",0],wizard:[Types.Entities.WIZARD,"mob",7],rat:[Types.Entities.RAT,"mob",1],bat:[Types.Entities.BAT,"mob",3],crab:[Types.Entities.CRAB,"mob",4],goblin:[Types.Entities.GOBLIN,"mob",5],yellowfish:[Types.Entities.YELLOWFISH,"mob",5],skeleton:[Types.Entities.SKELETON,"mob",8],greenfish:[Types.Entities.GREENFISH,"mob",8],snake:[Types.Entities.SNAKE,"mob",10],redfish:[Types.Entities.REDFISH,"mob",10],ogre:[Types.Entities.OGRE,"mob",12],clam:[Types.Entities.CLAM,"mob",12],skeleton2:[Types.Entities.SKELETON2,"mob",14],hermitcrab:[Types.Entities.HERMITCRAB,"mob",14],eye:[Types.Entities.EYE,"mob",16],spectre:[Types.Entities.SPECTRE,"mob",18],deathknight:[Types.Entities.DEATHKNIGHT,"mob",21],boss:[Types.Entities.BOSS,"mob",120],mimic:[Types.Entities.MIMIC,"mob",32],orc:[Types.Entities.ORC,"mob",32],oldogre:[Types.Entities.OLDOGRE,"mob",41],golem:[Types.Entities.GOLEM,"mob",41],hobgoblin:[Types.Entities.HOBGOBLIN,"mob",48],yellowmouse:[Types.Entities.YELLOWMOUSE,"mob",55],brownmouse:[Types.Entities.BROWNMOUSE,"mob",66],redguard:[Types.Entities.REDGUARD,"mob",84],redmouse:[Types.Entities.REDMOUSE,"mob",89],infectedguard:[Types.Entities.INFECTEDGUARD,"mob",101],livingarmor:[Types.Entities.LIVINGARMOR,"mob",101],whitemouse:[Types.Entities.WHITEMOUSE,"mob",114],mermaid:[Types.Entities.MERMAID,"mob",125],preta:[Types.Entities.PRETA,"mob",162],pirateskeleton:[Types.Entities.PIRATESKELETON,"mob",180],vulture:[Types.Entities.VULTURE,"mob",231],penguin:[Types.Entities.PENGUIN,"mob",269],moleking:[Types.Entities.MOLEKING,"mob",360],desertscolpion:[Types.Entities.DESERTSCOLPION,"mob",368],darkskeleton:[Types.Entities.DARKSKELETON,"mob",432],darkscolpion:[Types.Entities.DARKSCOLPION,"mob",471],greenpirateskeleton:[Types.Entities.GREENPIRATESKELETON,"mob",504],blackpirateskeleton:[Types.Entities.BLACKPIRATESKELETON,"mob",600],redpirateskeleton:[Types.Entities.REDPIRATESKELETON,"mob",720],yellowpreta:[Types.Entities.YELLOWPRETA,"mob",864],bluepreta:[Types.Entities.BLUEPRETA,"mob",1032],miniknight:[Types.Entities.MINIKNIGHT,"mob",1224],wolf:[Types.Entities.WOLF,"mob",1464],pinkelf:[Types.Entities.PINKELF,"mob",1700],skyelf:[Types.Entities.SKYELF,"mob",2e3],redelf:[Types.Entities.REDELF,"mob",2400],zombie:[Types.Entities.ZOMBIE,"mob",2900],piratecaptain:[Types.Entities.PIRATECAPTAIN,"mob",3500],ironogre:[Types.Entities.IRONOGRE,"mob",4200],ogrelord:[Types.Entities.OGRELORD,"mob",5e3],crystalscolpion:[Types.Entities.CRYSTALSCOLPION,"mob",5900],eliminator:[Types.Entities.ELIMINATOR,"mob",6900],adherer:[Types.Entities.ADHERER,"mob",8e3],miniiceknight:[Types.Entities.MINIICEKNIGHT,"mob",9200],iceknight:[Types.Entities.ICEKNIGHT,"mob",10500],icegolem:[Types.Entities.ICEGOLEM,"mob",11600],snowwolf:[Types.Entities.SNOWWOLF,"mob",12600],cobra:[Types.Entities.COBRA,"mob",13700],darkogre:[Types.Entities.DARKOGRE,"mob",14800],forestdragon:[Types.Entities.FORESTDRAGON,"mob",1],frostqueen:[Types.Entities.FROSTQUEEN,"mob",1],snowrabbit:[Types.Entities.SNOWRABBIT,"mob",1],snowelf:[Types.Entities.SNOWELF,"mob",1],whitebear:[Types.Entities.WHITEBEAR,"mob",1],goldgolem:[Types.Entities.GOLDGOLEM,"mob",1],darkregion:[Types.Entities.DARKREGION,"mob",1],darkregionillusion:[Types.Entities.DARKREGIONILLUSION,"mob",1],bloodregion:[Types.Entities.BLOODREGION,"mob",1],sword1:[Types.Entities.SWORD1,"weapon",0],sword2:[Types.Entities.SWORD2,"weapon",0],axe:[Types.Entities.AXE,"weapon",0],redsword:[Types.Entities.REDSWORD,"weapon",0],bluesword:[Types.Entities.BLUESWORD,"weapon",0],goldensword:[Types.Entities.GOLDENSWORD,"weapon",0],morningstar:[Types.Entities.MORNINGSTAR,"weapon",0],sidesword:[Types.Entities.SIDESWORD,"weapon",0],spear:[Types.Entities.SPEAR,"weapon",0],scimitar:[Types.Entities.SCIMITAR,"weapon",0],trident:[Types.Entities.TRIDENT,"weapon",0],bluescimitar:[Types.Entities.BLUESCIMITAR,"weapon",0],hammer:[Types.Entities.HAMMER,"weapon",0],greenlightsaber:[Types.Entities.GREENLIGHTSABER,"weapon",0],skylightsaber:[Types.Entities.SKYLIGHTSABER,"weapon",0],redlightsaber:[Types.Entities.REDLIGHTSABER,"weapon",0],redmetalsword:[Types.Entities.REDMETALSWORD,"weapon",0],bastardsword:[Types.Entities.BASTARDSWORD,"weapon",0],halberd:[Types.Entities.HALBERD,"weapon",0],rose:[Types.Entities.ROSE,"weapon",0],icerose:[Types.Entities.ICEROSE,"weapon",0],justicehammer:[Types.Entities.JUSTICEHAMMER,"weapon",0],firesword:[Types.Entities.FIRESWORD,"weapon",0],whip:[Types.Entities.WHIP,"weapon",0],forestguardiansword:[Types.Entities.FORESTGUARDIANSWORD,"weapon",0],clotharmor:[Types.Entities.CLOTHARMOR,"armor",0],leatherarmor:[Types.Entities.LEATHERARMOR,"armor",0],mailarmor:[Types.Entities.MAILARMOR,"armor",0],platearmor:[Types.Entities.PLATEARMOR,"armor",0],redarmor:[Types.Entities.REDARMOR,"armor",0],goldenarmor:[Types.Entities.GOLDENARMOR,"armor",0],greenarmor:[Types.Entities.GREENARMOR,"armor",0],greenwingarmor:[Types.Entities.GREENWINGARMOR,"armor",0],guardarmor:[Types.Entities.GUARDARMOR,"armor",0],redguardarmor:[Types.Entities.REDGUARDARMOR,"armor",0],whitearmor:[Types.Entities.WHITEARMOR,"armor",0],ratarmor:[Types.Entities.RATARMOR,"armor",0],bluepiratearmor:[Types.Entities.BLUEPIRATEARMOR,"armor",0],cheoliarmor:[Types.Entities.CHEOLIARMOR,"armor",0],dovakinarmor:[Types.Entities.DOVAKINARMOR,"armor",0],gbwingarmor:[Types.Entities.GBWINGARMOR,"armor",0],redwingarmor:[Types.Entities.REDWINGARMOR,"armor",0],snowfoxarmor:[Types.Entities.SNOWFOXARMOR,"armor",0],wolfarmor:[Types.Entities.WOLFARMOR,"armor",0],bluewingarmor:[Types.Entities.BLUEWINGARMOR,"armor",0],thiefarmor:[Types.Entities.THIEFARMOR,"armor",0],ninjaarmor:[Types.Entities.NINJAARMOR,"armor",0],dragonarmor:[Types.Entities.DRAGONARMOR,"armor",0],fallenarmor:[Types.Entities.FALLENARMOR,"armor",0],paladinarmor:[Types.Entities.PALADINARMOR,"armor",0],crystalarmor:[Types.Entities.CRYSTALARMOR,"armor",0],adhererrobe:[Types.Entities.ADHERERROBE,"armor",0],frostarmor:[Types.Entities.FROSTARMOR,"armor",0],gayarmor:[Types.Entities.GAYARMOR,"armor",0],schooluniform:[Types.Entities.SCHOOLUNIFORM,"armor",0],beautifullife:[Types.Entities.BEAUTIFULLIFE,"armor",0],regionarmor:[Types.Entities.REGIONARMOR,"armor",0],ghostrider:[Types.Entities.GHOSTRIDER,"armor",0],taekwondo:[Types.Entities.TAEKWONDO,"armor",0],flask:[Types.Entities.FLASK,"object",0],cake:[Types.Entities.CAKE,"object",0],burger:[Types.Entities.BURGER,"object",0],chest:[Types.Entities.CHEST,"object",0],firepotion:[Types.Entities.FIREPOTION,"object",0],guard:[Types.Entities.GUARD,"npc",0],villagegirl:[Types.Entities.VILLAGEGIRL,"npc",0],villager:[Types.Entities.VILLAGER,"npc",0],coder:[Types.Entities.CODER,"npc",0],scientist:[Types.Entities.SCIENTIST,"npc",0],priest:[Types.Entities.PRIEST,"npc",0],king:[Types.Entities.KING,"npc",0],rick:[Types.Entities.RICK,"npc",0],nyan:[Types.Entities.NYAN,"npc",0],sorcerer:[Types.Entities.SORCERER,"npc",0],agent:[Types.Entities.AGENT,"npc",0],octocat:[Types.Entities.OCTOCAT,"npc",0],beachnpc:[Types.Entities.BEACHNPC,"npc",0],forestnpc:[Types.Entities.FORESTNPC,"npc",0],desertnpc:[Types.Entities.DESERTNPC,"npc",0],lavanpc:[Types.Entities.LAVANPC,"npc",0],debenef:[Types.Entities.DEBENEF,"benef",0],firebenef:[Types.Entities.FIREBENEF,"benef",0],getType:function(a){return kinds[Types.getKindAsString(a)][1]},getMobExp:function(a){return kinds[Types.getKindAsString(a)][2]}};Types.rankedWeapons=[Types.Entities.SWORD1,Types.Entities.SWORD2,Types.Entities.AXE,Types.Entities.MORNINGSTAR,Types.Entities.BLUESWORD,Types.Entities.REDSWORD,Types.Entities.GOLDENSWORD,Types.Entities.SIDESWORD,Types.Entities.SPEAR,Types.Entities.SCIMITAR,Types.Entities.TRIDENT,Types.Entities.BLUESCIMITAR,Types.Entities.HAMMER,Types.Entities.GREENLIGHTSABER,Types.Entities.SKYLIGHTSABER,Types.Entities.REDLIGHTSABER,Types.Entities.BASTARDSWORD,Types.Entities.REDMETALSWORD,Types.Entities.JUSTICEHAMMER,Types.Entities.ROSE,Types.Entities.ICEROSE,Types.Entities.HALBERD,Types.Entities.WHIP,Types.Entities.FIRESWORD,Types.Entities.FORESTGUARDIANSWORD],Types.rankedArmors=[Types.Entities.CLOTHARMOR,Types.Entities.LEATHERARMOR,Types.Entities.MAILARMOR,Types.Entities.PLATEARMOR,Types.Entities.REDARMOR,Types.Entities.GOLDENARMOR,Types.Entities.GREENARMOR,Types.Entities.GREENWINGARMOR,Types.Entities.GUARDARMOR,Types.Entities.REDGUARDARMOR,Types.Entities.WHITEARMOR,Types.Entities.RATARMOR,Types.Entities.BLUEPIRATEARMOR,Types.Entities.CHEOLIARMOR,Types.Entities.DOVAKINARMOR,Types.Entities.GBWINGARMOR,Types.Entities.REDWINGARMOR,Types.Entities.SNOWFOXARMOR,Types.Entities.WOLFARMOR,Types.Entities.BLUEWINGARMOR,Types.Entities.FALLENARMOR,Types.Entities.CRYSTALARMOR,Types.Entities.PALADINARMOR,Types.Entities.ADHERERROBE,Types.Entities.SCHOOLUNIFORM,Types.Entities.TAEKWONDO,Types.Entities.GAYARMOR,Types.Entities.NINJAARMOR,Types.Entities.THIEFARMOR,Types.Entities.DRAGONARMOR,Types.Entities.FROSTARMOR,Types.Entities.BEAUTIFULLIFE,Types.Entities.REGIONARMOR,Types.Entities.GHOSTRIDER],Types.expForLevel=[1,16,81,256,625,1296,2401,4096,6561,1e4,14641,20736,28561,38416,50625,65536,83521,104976,130321,16e4,194481,234256,279841,331776,390625,456976,531441,614656,707281,81e4,923521,1048576,1185921,1336336,1500625,1679616,1874161,2085136,2313441,256e4,2825761,3111696,3418801,3748096,4100625,4477456,4879681,5308416,5764801,625e4,6765201,7311616,7890481,8503056,9150625,9834496,10556001,11316496,12117361,1296e4,13845841,14776336,15752961,16777216,17850625,18974736,20151121,21381376,22667121,2401e4,25411681,26873856,28398241,29986576,31640625,33362176,35153041,37015056,38950081,4096e4,43046721,45212176,47458321,49787136,52200625,54700816,57289761,59969536,62742241,6561e4,68574961,71639296,74805201,78074896,81450625,84934656,88529281,92236816,96059601,1e8],Types.getLevel=function(a){var b=1;for(b=1;b<90;b++)if(a<Types.expForLevel[b])return b;return 90},Types.getWeaponRank=function(a){return _.indexOf(Types.rankedWeapons,a)},Types.getArmorRank=function(a){return _.indexOf(Types.rankedArmors,a)},Types.getMobExp=function(a){return kinds.getMobExp(a)},Types.isPlayer=function(a){return kinds.getType(a)==="player"},Types.isMob=function(a){return kinds.getType(a)==="mob"},Types.isNpc=function(a){return kinds.getType(a)==="npc"},Types.isBenef=function(a){return kinds.getType(a)==="benef"},Types.isCharacter=function(a){return Types.isMob(a)||Types.isNpc(a)||Types.isPlayer(a)},Types.isArmor=function(a){return kinds.getType(a)==="armor"},Types.isWeapon=function(a){return kinds.getType(a)==="weapon"},Types.isObject=function(a){return kinds.getType(a)==="object"},Types.isChest=function(a){return a===Types.Entities.CHEST},Types.isItem=function(a){return Types.isWeapon(a)||Types.isArmor(a)||Types.isObject(a)&&!Types.isChest(a)},Types.isHealingItem=function(a){return a===Types.Entities.FLASK||a===Types.Entities.BURGER},Types.isExpendableItem=function(a){return Types.isHealingItem(a)||a===Types.Entities.FIREPOTION||a===Types.Entities.CAKE},Types.getKindFromString=function(a){if(a in kinds)return kinds[a][0]},Types.getKindAsString=function(a){for(var b in kinds)if(kinds[b][0]===a)return b},Types.forEachKind=function(a){for(var b in kinds)a(kinds[b][0],b)},Types.forEachArmor=function(a){Types.forEachKind(function(b,c){Types.isArmor(b)&&a(b,c)})},Types.forEachMobOrNpcKind=function(a){Types.forEachKind(function(b,c){(Types.isMob(b)||Types.isNpc(b))&&a(b,c)})},Types.forEachArmorKind=function(a){Types.forEachKind(function(b,c){Types.isArmor(b)&&a(b,c)})},Types.forEachWeaponKind=function(a){Types.forEachKind(function(b,c){Types.isWeapon(b)&&a(b,c)})},Types.getOrientationAsString=function(a){switch(a){case Types.Orientations.LEFT:return"left";case Types.Orientations.RIGHT:return"right";case Types.Orientations.UP:return"up";case Types.Orientations.DOWN:return"down"}},Types.getRandomItemKind=function(a){var b=_.union(this.rankedWeapons,this.rankedArmors),c=[Types.Entities.SWORD1,Types.Entities.CLOTHARMOR],d=_.difference(b,c),e=Math.floor(Math.random()*_.size(d));return d[e]},Types.getMessageTypeAsString=function(a){var b;_.each(Types.Messages,function(c,d){c===a&&(b=d)}),b||(b="UNKNOWN");return b},typeof exports!="undefined"&&(module.exports=Types),define("../../shared/js/gametypes",function(){}),define("game",["infomanager","bubble","renderer","map","animation","sprite","tile","warrior","gameclient","audio","updater","transition","pathfinder","item","mob","npc","player","character","chest","mobs","exceptions","config","chathandler","textwindowhandler","menu","../../shared/js/gametypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=Class.extend({init:function(b){this.app=b,this.app.config=v,this.ready=!1,this.started=!1,this.hasNeverStarted=!0,this.renderer=null,this.updater=null,this.pathfinder=null,this.chatinput=null,this.bubbleManager=null,this.audioManager=null,this.player=new h("player",""),this.entities={},this.deathpositions={},this.entityGrid=null,this.pathingGrid=null,this.renderingGrid=null,this.itemGrid=null,this.currentCursor=null,this.mouse={x:0,y:0},this.zoningQueue=[],this.previousClickPosition={},this.selectedX=0,this.selectedY=0,this.selectedCellVisible=!1,this.targetColor="rgba(255, 255, 255, 0.5)",this.targetCellVisible=!0,this.hoveringTarget=!1,this.hoveringPlayer=!1,this.hoveringMob=!1,this.hoveringItem=!1,this.hoveringCollidingTile=!1,this.chats=0,this.maxChats=3,this.globalChatColor="#A6FFF9",this.infoManager=new a(this),this.chathandler=new w(this),this.textWindowHandler=new x,this.menu=new y,this.itemInfoOn=!0,this.currentZoning=null,this.cursors={},this.sprites={},this.animatedTiles=null,this.debugPathing=!1,this.spriteNames=["hermitcrab","zombie","piratecaptain","ironogre","ogrelord","adherer","icegolem","crystalscolpion","eliminator","firebenef","taekwondo","item-taekwondo","darkogre","frostqueen","snowrabbit","snowwolf","iceknight","miniiceknight","snowelf","whitebear","cobra","goldgolem","darkregion","darkregionillusion","bloodregion","justicehammer","item-justicehammer","firesword","item-firesword","whip","item-whip","forestguardiansword","item-forestguardiansword","gayarmor","item-gayarmor","schooluniform","item-schooluniform","beautifullife","item-beautifullife","regionarmor","item-regionarmor","ghostrider","item-ghostrider","desertscolpion","darkscolpion","vulture","forestdragon","bluewingarmor","item-bluewingarmor","thiefarmor","item-thiefarmor","ninjaarmor","item-ninjaarmor","dragonarmor","item-dragonarmor","fallenarmor","item-fallenarmor","paladinarmor","item-paladinarmor","crystalarmor","item-crystalarmor","adhererrobe","item-adhererrobe","frostarmor","item-frostarmor","redmetalsword","item-redmetalsword","bastardsword","item-bastardsword","halberd","item-halberd","rose","item-rose","icerose","item-icerose","hand","sword","loot","target","talk","sparks","shadow16","rat","skeleton","skeleton2","spectre","boss","deathknight","ogre","crab","snake","eye","bat","goblin","wizard","guard","king","villagegirl","villager","coder","agent","rick","scientist","nyan","priest","sorcerer","octocat","beachnpc","forestnpc","desertnpc","lavanpc","clotharmor","item-clotharmor","leatherarmor","mailarmor","platearmor","redarmor","goldenarmor","firefox","death","sword1","axe","chest","sword2","redsword","bluesword","goldensword","item-sword2","item-axe","item-redsword","item-bluesword","item-goldensword","item-leatherarmor","item-mailarmor","item-platearmor","item-redarmor","item-goldenarmor","item-flask","item-cake","item-burger","morningstar","item-morningstar","item-firepotion","orc","oldogre","golem","mimic","hobgoblin","greenarmor","greenwingarmor","item-greenarmor","item-greenwingarmor","redmouse","redguard","scimitar","item-scimitar","redguardarmor","item-redguardarmor","whitearmor","item-whitearmor","infectedguard","livingarmor","mermaid","trident","item-trident","ratarmor","item-ratarmor","yellowfish","greenfish","redfish","clam","preta","pirateskeleton","bluescimitar","item-bluescimitar","bluepiratearmor","item-bluepiratearmor","penguin","moleking","cheoliarmor","item-cheoliarmor","hammer","item-hammer","darkskeleton","greenpirateskeleton","blackpirateskeleton","redpirateskeleton","yellowpreta","bluepreta","miniknight","wolf","dovakinarmor","item-dovakinarmor","gbwingarmor","item-gbwingarmor","redwingarmor","item-redwingarmor","snowfoxarmor","item-snowfoxarmor","wolfarmor","item-wolfarmor","pinkelf","greenlightsaber","item-greenlightsaber","skyelf","skylightsaber","item-skylightsaber","redelf","redlightsaber","item-redlightsaber","item-sidesword","sidesword","yellowmouse","whitemouse","brownmouse","spear","item-spear","guardarmor","item-guardarmor"]},setup:function(a,d,e,f,g){this.setBubbleManager(new b(a)),this.setRenderer(new c(this,d,e,f)),this.setChatInput(g)},setRenderer:function(a){this.renderer=a},setUpdater:function(a){this.updater=a},setPathfinder:function(a){this.pathfinder=a},setChatInput:function(a){this.chatinput=a},setBubbleManager:function(a){this.bubbleManager=a},loadMap:function(){var a=this;this.map=new d(!this.renderer.upscaledRendering,this),this.map.ready(function(){log.info("Map loaded.");var b=a.renderer.upscaledRendering?0:a.renderer.scale-1;a.renderer.setTileset(a.map.tilesets[b])})},initPlayer:function(){this.player.setSprite(this.sprites[this.player.getSpriteName()]),this.player.idle(),log.debug("Finished initPlayer")},initShadows:function(){this.shadows={},this.shadows.small=this.sprites.shadow16},initCursors:function(){this.cursors.hand=this.sprites.hand,this.cursors.sword=this.sprites.sword,this.cursors.loot=this.sprites.loot,this.cursors.target=this.sprites.target,this.cursors.arrow=this.sprites.arrow,this.cursors.talk=this.sprites.talk},initAnimations:function(){this.targetAnimation=new e("idle_down",4,0,16,16),this.targetAnimation.setSpeed(50),this.sparksAnimation=new e("idle_down",6,0,16,16),this.sparksAnimation.setSpeed(120),this.benefAnimation=new e("idle_down",5,0,48,48),this.benefAnimation.setSpeed(80)},initHurtSprites:function(){var a=this;Types.forEachArmorKind(function(b,c){a.sprites[c].createHurtSprite()})},initSilhouettes:function(){var a=this;Types.forEachMobOrNpcKind(function(b,c){a.sprites[c].createSilhouette()}),a.sprites.chest.createSilhouette(),a.sprites["item-cake"].createSilhouette()},initAchievements:function(a,b){var c=this;this.achievements={SAVE_PRINCESS:{id:1,name:"공주를 구하라.",desc:"공주를 구해오세요.",hidden:!a[0],completed:b[0]===999?!0:!1,isCompleted:function(){return this.completed}},KILL_RAT:{id:2,name:"쥐를 잡아라.",desc:"쥐 10마리를 잡으세요.",hidden:!a[1],completed:b[1]===999?!0:!1,isCompleted:function(){return this.completed}},BRING_LEATHERARMOR:{id:3,name:"가죽갑옷",desc:"Village에게 가죽갑옷을 구해주세요.",hidden:!a[2],completed:b[2]===999?!0:!1,isCompleted:function(){return this.completed}}},_.each(this.achievements,function(a){a.isCompleted||(a.isCompleted=function(){return!0}),a.hidden||(a.hidden=!1)}),this.app.initAchievementList(this.achievements),this.app.initUnlockedAchievements(this.achievements)},loadSprite:function(a){this.renderer.upscaledRendering?this.spritesets[0][a]=new f(a,1):(this.spritesets[1][a]=new f(a,2),!this.renderer.mobile&&!this.renderer.tablet&&(this.spritesets[2][a]=new f(a,3)))},setSpriteScale:function(a){var b=this;this.renderer.upscaledRendering?this.sprites=this.spritesets[0]:(this.sprites=this.spritesets[a-1],_.each(this.entities,function(a){a.sprite=null,a.setSprite(b.sprites[a.getSpriteName()])}),this.initHurtSprites(),this.initShadows(),this.initCursors())},loadSprites:function(){log.info("Loading sprites..."),this.spritesets=[],this.spritesets[0]={},this.spritesets[1]={},this.spritesets[2]={},_.map(this.spriteNames,this.loadSprite,this)},spritesLoaded:function(){return _.any(this.sprites,function(a){return!a.isLoaded})?!1:!0},setCursor:function(a,b){a in this.cursors?(this.currentCursor=this.cursors[a],this.currentCursorOrientation=b):log.error("Unknown cursor name :"+a)},updateCursorLogic:function(){this.hoveringCollidingTile&&this.started?this.targetColor="rgba(255, 50, 50, 0.5)":this.targetColor="rgba(255, 255, 255, 0.5)",this.hoveringPlayer&&this.started?(this.setCursor("sword"),this.hoveringTarget=!1,this.hoveringMob=!1,this.targetCellVisible=!1):this.hoveringMob&&this.started?(this.setCursor("sword"),this.hoveringTarget=!1,this.hoveringPlayer=!1,this.targetCellVisible=!1):this.hoveringNpc&&this.started?(this.setCursor("talk"),this.hoveringTarget=!1,this.targetCellVisible=!1):(this.hoveringItem||this.hoveringChest)&&this.started?(this.setCursor("loot"),this.hoveringTarget=!1,this.targetCellVisible=!0):(this.setCursor("hand"),this.hoveringTarget=!1,this.hoveringPlayer=!1,this.targetCellVisible=!0)},focusPlayer:function(){this.renderer.camera.lookAt(this.player)},addEntity:function(a){var b=this;this.entities[a.id]===undefined?(this.entities[a.id]=a,this.registerEntityPosition(a),!(a instanceof n&&a.wasDropped)&&!this.renderer.mobile&&!this.renderer.tablet&&a.fadeIn(this.currentTime),(this.renderer.mobile||this.renderer.tablet)&&a.onDirty(function(a){b.camera.isVisible(a)&&(a.dirtyRect=b.renderer.getEntityBoundingRect(a),b.checkOtherDirtyRects(a.dirtyRect,a,a.gridX,a.gridY))})):log.error("This entity already exists : "+a.id+" ("+a.kind+")")},removeEntity:function(a){a.id in this.entities?(this.unregisterEntityPosition(a),delete this.entities[a.id]):log.error("Cannot remove entity. Unknown ID : "+a.id)},addItem:function(a,b,c){a.setSprite(this.sprites[a.getSpriteName()]),a.setGridPosition(b,c),a.setAnimation("idle",150),this.addEntity(a)},removeItem:function(a){a?(this.removeFromItemGrid(a,a.gridX,a.gridY),this.removeFromRenderingGrid(a,a.gridX,a.gridY),delete this.entities[a.id]):log.error("Cannot remove item. Unknown ID : "+a.id)},initPathingGrid:function(){this.pathingGrid=[];for(var a=0;a<this.map.height;a+=1){this.pathingGrid[a]=[];for(var b=0;b<this.map.width;b+=1)this.pathingGrid[a][b]=this.map.grid[a][b]}log.info("Initialized the pathing grid with static colliding cells.")},initEntityGrid:function(){this.entityGrid=[];for(var a=0;a<this.map.height;a+=1){this.entityGrid[a]=[];for(var b=0;b<this.map.width;b+=1)this.entityGrid[a][b]={}}log.info("Initialized the entity grid.")},initRenderingGrid:function(){this.renderingGrid=[];for(var a=0;a<this.map.height;a+=1){this.renderingGrid[a]=[];for(var b=0;b<this.map.width;b+=1)this.renderingGrid[a][b]={}}log.info("Initialized the rendering grid.")},initItemGrid:function(){this.itemGrid=[];for(var a=0;a<this.map.height;a+=1){this.itemGrid[a]=[];for(var b=0;b<this.map.width;b+=1)this.itemGrid[a][b]={}}log.info("Initialized the item grid.")},initAnimatedTiles:function(){var a=this,b=this.map;this.animatedTiles=[],this.forEachVisibleTile(function(c,d){if(b.isAnimatedTile(c)){var e=new g(c,b.getTileAnimationLength(c),b.getTileAnimationDelay(c),d),f=a.map.tileIndexToGridPosition(e.index);e.x=f.x,e.y=f.y,a.animatedTiles.push(e)}},1)},addToRenderingGrid:function(a,b,c){this.map.isOutOfBounds(b,c)||(this.renderingGrid[c][b][a.id]=a)},removeFromRenderingGrid:function(a,b,c){a&&this.renderingGrid[c][b]&&a.id in this.renderingGrid[c][b]&&delete this.renderingGrid[c][b][a.id]},removeFromEntityGrid:function(a,b,c){this.entityGrid[c][b][a.id]&&delete this.entityGrid[c][b][a.id]},removeFromItemGrid:function(a,b,c){a&&this.itemGrid[c][b][a.id]&&delete this.itemGrid[c][b][a.id]},removeFromPathingGrid:function(a,b){this.pathingGrid[b][a]=0},registerEntityDualPosition:function(a){a&&(this.entityGrid[a.gridY][a.gridX][a.id]=a,this.addToRenderingGrid(a,a.gridX,a.gridY),a.nextGridX>=0&&a.nextGridY>=0&&(this.entityGrid[a.nextGridY][a.nextGridX][a.id]=a,a instanceof q||(this.pathingGrid[a.nextGridY][a.nextGridX]=1)))},unregisterEntityPosition:function(a){a&&(this.removeFromEntityGrid(a,a.gridX,a.gridY),this.removeFromPathingGrid(a.gridX,a.gridY),this.removeFromRenderingGrid(a,a.gridX,a.gridY),a.nextGridX>=0&&a.nextGridY>=0&&(this.removeFromEntityGrid(a,a.nextGridX,a.nextGridY),this.removeFromPathingGrid(a.nextGridX,a.nextGridY)))},registerEntityPosition:function(a){var b=a.gridX,c=a.gridY;if(a){if(a instanceof r||a instanceof s)this.entityGrid[c][b][a.id]=a,a instanceof q||(this.pathingGrid[c][b]=1);a instanceof n&&(this.itemGrid[c][b][a.id]=a),this.addToRenderingGrid(a,b,c)}},setServerOptions:function(a,b,c,d,e){this.host=a,this.port=b,this.username=c,this.userpw=d,this.email=e},loadAudio:function(){this.audioManager=new j(this)},initMusicAreas:function(){var a=this;_.each(this.map.musicAreas,function(b){a.audioManager.addArea(b.x,b.y,b.w,b.h,b.id)})},run:function(a){var b=this;this.loadSprites(),this.setUpdater(new k(this)),this.camera=this.renderer.camera,this.setSpriteScale(this.renderer.scale);var c=setInterval(function(){b.map.isLoaded&&b.spritesLoaded()&&(b.ready=!0,log.debug("All sprites loaded."),b.loadAudio(),b.initMusicAreas(),b.initCursors(),b.initAnimations(),b.initShadows(),b.initHurtSprites(),!b.renderer.mobile&&!b.renderer.tablet&&b.renderer.upscaledRendering&&b.initSilhouettes(),b.initEntityGrid(),b.initItemGrid(),b.initPathingGrid(),b.initRenderingGrid(),b.setPathfinder(new m(b.map.width,b.map.height)),b.initPlayer(),b.setCursor("hand"),b.connect(a),clearInterval(c))},100)},tick:function(){this.currentTime=(new Date).getTime(),this.started&&(this.updateCursorLogic(),this.updater.update(),this.renderer.renderFrame()),this.isStopped||requestAnimFrame(this.tick.bind(this))},start:function(){this.tick(),this.hasNeverStarted=!1,log.info("Game loop started.")},stop:function(){log.info("Game stopped."),this.isStopped=!0},entityIdExists:function(a){return a in this.entities},getEntityById:function(a){if(a in this.entities)return this.entities[a];log.error("Unknown entity id : "+a,!0)},connect:function(a){var b=this,c=!1;this.client=new i(this.host,this.port),this.client.wrongpw_callback=function(){b.textWindowHandler.setHtml("<center><h1>Wrong Password</h1></center>")},this.client.ban_callback=function(){b.textWindowHandler.setHtml("<center><h1>Ban</h1></center>")},c||this.client.connect(!0),this.client.onDispatched(function(a,c){log.debug("Dispatched to game server "+a+":"+c),b.client.host=a,b.client.port=c,b.client.connect()}),this.client.onConnected(function(){log.info("Starting client/server handshake"),b.player.name=b.username,b.player.pw=b.userpw,b.player.email=b.email,b.started=!0,b.sendHello(b.player)}),this.client.onEntityList(function(a){var c=_.pluck(b.entities,"id"),d=_.intersection(c,a),e=_.difference(a,d);b.obsoleteEntities=_.reject(b.entities,function(a){return _.include(d,a.id)||a.id===b.player.id}),b.removeObsoleteEntities(),_.size(e)>0&&b.client.sendWho(e)}),this.client.onWelcome(function(c,d,e,f,g,h,i,j,k,l,m,v,w){log.info("Received player ID from server : "+c),b.player.id=c,b.playerId=c,b.player.name=d,b.player.setGridPosition(e,f),b.player.setMaxHitPoints(g),b.player.setArmorName(h),b.player.setSpriteName(k),b.player.setWeaponName(i),b.player.setInventory(Types.getKindFromString(l),0),b.player.setInventory(Types.getKindFromString(m),1),b.initAchievements(v,w),b.initPlayer(),b.player.experience=j,b.player.level=Types.getLevel(j),b.updateBars(),b.updateExpBar(),b.resetCamera(),b.updatePlateauMode(),b.audioManager.updateMusic(),b.addEntity(b.player),b.player.dirtyRect=b.renderer.getEntityBoundingRect(b.player),b.showNotification("안생겨요에 오신 것을 환영합니다."),b.player.onStartPathing(function(a){var c=a.length-1,d=a[c][0],e=a[c][1];b.player.isMovingToLoot()?b.player.isLootMoving=!1:b.player.isAttacking()||b.client.sendMove(d,e),b.selectedX=d,b.selectedY=e,b.selectedCellVisible=!0;if(b.renderer.mobile||b.renderer.tablet)b.drawTarget=!0,b.clearTarget=!0,b.renderer.targetRect=b.renderer.getTargetBoundingRect(),b.checkOtherDirtyRects(b.renderer.targetRect,null,b.selectedX,b.selectedY)}),b.player.onCheckAggro(function(){b.forEachMob(function(a){a.isAggressive&&!a.isAttacking()&&b.player.isNear(a,a.aggroRange)&&b.player.aggro(a)})}),b.player.onAggro(function(a){!a.isWaitingToAttack(b.player)&&!b.player.isAttackedBy(a)&&(b.player.log_info("Aggroed by "+a.id+" at ("+b.player.gridX+", "+b.player.gridY+")"),b.client.sendAggro(a),a.waitToAttack(b.player))}),b.player.onBeforeStep(function(){var a=b.getEntityAt(b.player.nextGridX,b.player.nextGridY);a&&a.id!==b.playerId&&log.debug("Blocked by "+a.id),b.unregisterEntityPosition(b.player)}),b.player.onStep(function(){b.player.hasNextStep()&&b.registerEntityDualPosition(b.player),b.isZoningTile(b.player.gridX,b.player.gridY)&&b.enqueueZoningFrom(b.player.gridX,b.player.gridY),b.player.forEachAttacker(function(a){a.isAdjacent(a.target)&&a.lookAtTarget()}),b.updatePlayerCheckpoint(),b.player.isDead||b.audioManager.updateMusic()}),b.player.onStopPathing(function(a,c){b.player.hasTarget()&&b.player.lookAtTarget(),b.selectedCellVisible=!1;if(b.isItemAt(a,c)){var d=b.getItemAt(a,c);try{b.player.loot(d),b.client.sendLoot(d),b.removeItem(d),b.showNotification(d.getLootMessage()),d.kind===Types.Entities.FIREPOTION&&b.audioManager.playSound("firefox"),Types.isHealingItem(d.kind)?b.audioManager.playSound("heal"):b.audioManager.playSound("loot")}catch(e){if(e instanceof u.LootException)b.showNotification(e.message),b.audioManager.playSound("noloot");else throw e}}if(!b.player.hasTarget()&&b.map.isDoor(a,c)){var f=b.map.getDoorDestination(a,c);if(f.level>b.player.level){b.unregisterEntityPosition(b.player),b.registerEntityPosition(b.player);return}b.player.setGridPosition(f.x,f.y),b.player.nextGridX=f.x,b.player.nextGridY=f.y,b.player.turnTo(f.orientation),b.client.sendTeleport(f.x,f.y),b.renderer.mobile&&f.cameraX&&f.cameraY?(b.camera.setGridPosition(f.cameraX,f.cameraY),b.resetZone()):f.portal?b.assignBubbleTo(b.player):(b.camera.focusEntity(b.player),b.resetZone()),b.player.forEachAttacker(function(a){a.disengage(),a.idle()}),b.updatePlateauMode(),(b.renderer.mobile||b.renderer.tablet)&&b.renderer.clearScreen(b.renderer.context),f.portal&&b.audioManager.playSound("teleport"),b.player.isDead||b.audioManager.updateMusic()}b.player.target instanceof p?b.makeNpcTalk(b.player.target):b.player.target instanceof s&&(b.client.sendOpen(b.player.target),b.audioManager.playSound("chest")),b.player.forEachAttacker(function(a){!a.isAdjacentNonDiagonal(b.player)&&a instanceof o&&a.follow(b.player)}),b.unregisterEntityPosition(b.player),b.registerEntityPosition(b.player)}),b.player.onRequestPath(function(a,c){var d=[b.player];b.player.hasTarget()&&d.push(b.player.target);return b.findPath(b.player,a,c,d)}),b.player.onDeath(function(){log.info(b.playerId+" is dead"),b.player.stopBlinking(),b.player.setSprite(b.sprites.death),b.player.animate("death",120,1,function(){log.info(b.playerId+" was removed"),b.removeEntity(b.player),b.removeFromRenderingGrid(b.player,b.player.gridX,b.player.gridY),b.player=null,b.client.disable(),setTimeout(function(){b.playerdeath_callback()},1e3)}),b.player.forEachAttacker(function(a){a.disengage(),a.idle()}),b.audioManager.fadeOutCurrentMusic(),b.audioManager.playSound("death")}),b.player.onHasMoved(function(a){b.assignBubbleTo(a)}),b.client.onPVPChange(function(a){b.player.flagPVP(a),a?b.showNotification("PK 허용 지역에 들어오셨습니다."):b.showNotification("PK 금지 지역에 들어오셨습니다.")}),b.player.onSwitchItem(function(){b.equipment_callback&&b.equipment_callback()}),b.player.onInvincible(function(){b.invincible_callback()}),b.client.onSpawnItem(function(a,c,d){log.info("Spawned "+Types.getKindAsString(a.kind)+" ("+a.id+") at "+c+", "+d),b.addItem(a,c,d)}),b.client.onSpawnChest(function(a,c,d){log.info("Spawned chest ("+a.id+") at "+c+", "+d),a.setSprite(b.sprites[a.getSpriteName()]),a.setGridPosition(c,d),a.setAnimation("idle_down",150),b.addEntity(a,c,d),a.onOpen(function(){a.stopBlinking(),a.setSprite(b.sprites.death),a.setAnimation("death",120,1,function(){log.info(a.id+" was removed"),b.removeEntity(a),b.removeFromRenderingGrid(a,a.gridX,a.gridY),b.previousClickPosition={}})})}),b.client.onSpawnCharacter(function(a,c,d,e,f){if(!b.entityIdExists(a.id))try{if(a.id!==b.playerId){a.setSprite(b.sprites[a.getSpriteName()]),a.setGridPosition(c,d),a.setOrientation(e),a.idle(),b.addEntity(a),log.debug("Spawned "+Types.getKindAsString(a.kind)+" ("+a.id+") at "+a.gridX+", "+a.gridY);if(a instanceof r){a.onBeforeStep(function(){b.unregisterEntityPosition(a)}),a.onStep(function(){a.isDying||(b.registerEntityDualPosition(a),a.forEachAttacker(function(b){b.isAdjacent(b.target)?b.lookAtTarget():b.follow(a)}))}),a.onStopPathing(function(c,d){if(!a.isDying){a.hasTarget()&&a.isAdjacent(a.target)&&a.lookAtTarget();if(a instanceof q){var e=a.destination.gridX,f=a.destination.gridY;if(b.map.isDoor(e,f)){var g=b.map.getDoorDestination(e,f);a.setGridPosition(g.x,g.y)}}a.forEachAttacker(function(c){!c.isAdjacentNonDiagonal(a)&&c.id!==b.playerId&&c.follow(a)}),b.unregisterEntityPosition(a),b.registerEntityPosition(a)}}),a.onRequestPath(function(c,d){var e=[a],f=function(a){e.push(a),a.forEachAttacker(function(a){e.push(a)})};a.hasTarget()?f(a.target):a.previousTarget&&f(a.previousTarget);return b.findPath(a,c,d,e)}),a.onDeath(function(){log.info(a.id+" is dead"),a instanceof o&&(b.deathpositions[a.id]={x:a.gridX,y:a.gridY}),a.isDying=!0,a.setSprite(b.sprites[a instanceof t.Rat?"rat":"death"]),a.animate("death",120,1,function(){log.info(a.id+" was removed"),b.removeEntity(a),b.removeFromRenderingGrid(a,a.gridX,a.gridY)}),a.forEachAttacker(function(a){a.disengage()}),b.player.target&&b.player.target.id===a.id&&b.player.disengage(),b.removeFromEntityGrid(a,a.gridX,a.gridY),b.removeFromPathingGrid(a.gridX,a.gridY),b.camera.isVisible(a)&&b.audioManager.playSound("kill"+Math.floor(Math.random()*2+1)),b.updateCursor()}),a.onHasMoved(function(a){b.assignBubbleTo(a)});if(a instanceof o&&f){var g=b.getEntityById(f);g&&b.createAttackLink(a,g)}}}}catch(h){log.error(h)}else log.debug("Character "+a.id+" already exists. Don't respawn.")}),b.client.onDespawnEntity(function(a){var c=b.getEntityById(a);c&&(log.info("Despawning "+Types.getKindAsString(c.kind)+" ("+c.id+")"),c.gridX===b.previousClickPosition.x&&c.gridY===b.previousClickPosition.y&&(b.previousClickPosition={}),c instanceof n?b.removeItem(c):c instanceof r?(c.forEachAttacker(function(a){a.canReachTarget()&&a.hit()}),c.die()):c instanceof s&&c.open(),c.clean())}),b.client.onItemBlink(function(a){var c=b.getEntityById(a);c&&c.blink(150)}),b.client.onEntityMove(function(a,c,d){var e=null;a!==b.playerId&&(e=b.getEntityById(a),e&&(e.disengage(),e.idle(),b.makeCharacterGoTo(e,c,d)))}),b.client.onEntityDestroy(function(a){var c=b.getEntityById(a);c&&(c instanceof n?b.removeItem(c):b.removeEntity(c),log.debug("Entity was destroyed: "+c.id))}),b.client.onPlayerMoveToItem(function(a,c){var d,e;a!==b.playerId&&(d=b.getEntityById(a),e=b.getEntityById(c),d&&e&&b.makeCharacterGoTo(d,e.gridX,e.gridY))}),b.client.onEntityAttack(function(a,c){var d=b.getEntityById(a),e=b.getEntityById(c);d&&e&&d.id!==b.playerId&&(log.debug(d.id+" attacks "+e.id),d&&e instanceof q&&e.id!==b.playerId&&e.target&&e.target.id===d.id&&d.getDistanceToEntity(e)<3?setTimeout(function(){b.createAttackLink(d,e)},200):b.createAttackLink(d,e))}),b.client.onPlayerDamageMob(function(a,c,d,e){var f=b.getEntityById(a);f&&c&&b.infoManager.addDamageInfo(c,f.x,f.y-15,"inflicted"),b.player.hasTarget()&&b.updateTarget(a,c,d,e)}),b.client.onPlayerKillMob(function(a,c,d){var e=Types.getMobExp(a);b.player.level=c,b.player.experience=d,b.updateExpBar(),b.infoManager.addDamageInfo("+"+e+" exp",b.player.x,b.player.y-15,"exp",3e3)}),b.client.onPlayerChangeHealth(function(a,c){var d=b.player,e,f;d&&!d.isDead&&!d.invincible&&(f=a<=d.hitPoints,e=a-d.hitPoints,d.hitPoints=a,d.hitPoints<=0&&d.die(),f?(d.hurt(),b.infoManager.addDamageInfo(e,d.x,d.y-15,"received"),b.audioManager.playSound("hurt"),b.playerhurt_callback&&b.playerhurt_callback()):c||b.infoManager.addDamageInfo("+"+e,d.x,d.y-15,"healed"),b.updateBars())}),b.client.onPlayerChangeMaxHitPoints(function(a){b.player.maxHitPoints=a,b.player.hitPoints=a,b.updateBars()}),b.client.onPlayerEquipItem(function(a,c){var d=b.getEntityById(a),e=Types.getKindAsString(c);d&&(Types.isArmor(c)?d.setSprite(b.sprites[e]):Types.isWeapon(c)?d.setWeaponName(e):Types.isBenef(c)&&d.setBenef(c))}),b.client.onPlayerTeleport(function(a,c,d){var e=null,f;a!==b.playerId&&(e=b.getEntityById(a),e&&(f=e.orientation,b.makeCharacterTeleportTo(e,c,d),e.setOrientation(f),e.forEachAttacker(function(a){a.disengage(),a.idle(),a.stop()})))}),b.client.onDropItem(function(a,c){var d=b.getDeadMobPosition(c);d&&(b.addItem(a,d.x,d.y),b.updateCursor())}),b.client.onChatMessage(function(a,c){if(!b.chathandler.processReceiveMessage(a,c)){var d=b.getEntityById(a);b.createBubble(a,c),b.assignBubbleTo(d)}b.audioManager.playSound("chat")}),b.client.onPopulationChange(function(a,c){b.nbplayers_callback&&b.nbplayers_callback(a,c)}),b.client.onDisconnected(function(a){b.player&&b.player.die(),b.disconnect_callback&&b.disconnect_callback(a)}),b.client.onAchievement(function(a,c){var d=null;c==="complete"&&a===2?(d=b.achievements.KILL_RAT,d.completed=!0,b.app.displayUnlockedAchievement(d),b.app.showAchievementNotification(d.id,d.name,"퀘스트 완료!"),setTimeout(function(){b.infoManager.addDamageInfo("+50 exp",b.player.x,b.player.y-15,"exp",3e3)},1e3)):c==="complete"&&a===3&&(d=b.achievements.BRING_LEATHERARMOR,d.completed=!0,b.app.displayUnlockedAchievement(d),b.app.showAchievementNotification(d.id,d.name,"퀘스트 완료!"),b.player.inventory[0]===Types.Entities.LEATHERARMOR?b.player.inventory[0]=null:b.player.inventory[1]===Types.Entities.LEATHERARMOR&&(b.player.inventory[1]=null),setTimeout(function(){b.infoManager.addDamageInfo("+50 exp",b.player.x,b.player.y-15,"exp",3e3)},1e3))}),b.gamestart_callback(),b.hasNeverStarted&&(b.start(),a())})},createAttackLink:function(a,b){a.hasTarget()&&a.removeTarget(),a.engage(b),a.id!==this.playerId&&b.addAttacker(a)},sendHello:function(){this.client.sendHello(this.player)},getMouseGridPosition:function(){var a=this.mouse.x,b=this.mouse.y,c=this.renderer.camera,d=this.renderer.scale,e=this.renderer.tilesize,f=a%(e*d),g=b%(e*d),h=(a-f)/(e*d)+c.gridX,i=(b-g)/(e*d)+c.gridY;return{x:h,y:i}},makeCharacterGoTo:function(a,b,c){this.map.isOutOfBounds(b,c)||a.go(b,c)},makeCharacterTeleportTo:function(a,b,c){this.map.isOutOfBounds(b,c)?log.debug("Teleport out of bounds: "+b+", "+c):(this.unregisterEntityPosition(a),a.setGridPosition(b,c),this.registerEntityPosition(a),this.assignBubbleTo(a))},makePlayerGoTo:function(a,b){this.makeCharacterGoTo(this.player,a,b)},makePlayerGoToItem:function(a){a&&(this.player.isLootMoving=!0,this.makePlayerGoTo(a.gridX,a.gridY),this.client.sendLootMove(a,a.gridX,a.gridY))},makePlayerTalkTo:function(a){a&&(this.player.setTarget(a),this.player.follow(a))},makePlayerOpenChest:function(a){a&&(this.player.setTarget(a),this.player.follow(a))},makePlayerAttack:function(a){this.createAttackLink(this.player,a),this.client.sendAttack(a)},makeNpcTalk:function(a){var b;a&&(a.kind==Types.Entities.VILLAGEGIRL&&this.achievements.KILL_RAT.hidden?this.unhiddenAchievement(this.achievements.KILL_RAT):a.kind===Types.Entities.KING&&this.achievements.SAVE_PRINCESS.hidden?this.unhiddenAchievement(this.achievements.SAVE_PRINCESS):a.kind===Types.Entities.VILLAGER&&this.achievements.BRING_LEATHERARMOR.hidden?this.unhiddenAchievement(this.achievements.BRING_LEATHERARMOR):a.kind===Types.Entities.VILLAGER&&!this.achievements.BRING_LEATHERARMOR.hidden&&this.client.sendTalkToNPC(a.kind),b=a.talk(),this.previousClickPosition={},b?(this.createBubble(a.id,b),this.assignBubbleTo(a),this.audioManager.playSound("npc")):(this.destroyBubble(a.id),this.audioManager.playSound("npc-end")))},unhiddenAchievement:function(a){a.hidden&&(this.app.displayUnhiddenAchievement(a),a.hidden=!1)},forEachEntity:function(a){_.each(this.entities,function(b){a(b)})},forEachMob:function(a){_.each(this.entities,function(b){b instanceof o&&a(b)})},forEachVisibleEntityByDepth:function(a){var b=this,c=this.map;this.camera.forEachVisiblePosition(function(d,e){c.isOutOfBounds(d,e)||b.renderingGrid[e][d]&&_.each(b.renderingGrid[e][d],function(b){a(b)})},this.renderer.mobile?0:2)},forEachVisibleTileIndex:function(a,b){var c=this.map;this.camera.forEachVisiblePosition(function(b,d){c.isOutOfBounds(b,d)||a(c.GridPositionToTileIndex(b,d)-1)},b)},forEachVisibleTile:function(a,b){var c=this,d=this.map;d.isLoaded&&this.forEachVisibleTileIndex(function(b){_.isArray(d.data[b])?_.each(d.data[b],function(c){a(c-1,b)}):_.isNaN(d.data[b]-1)||a(d.data[b]-1,b)},b)},forEachAnimatedTile:function(a){this.animatedTiles&&_.each(this.animatedTiles,function(b){a(b)})},getEntityAt:function(a,b){if(this.map.isOutOfBounds(a,b)||!this.entityGrid)return null;var c=this.entityGrid[b][a],d=null;_.size(c)>0?d=c[_.keys(c)[0]]:d=this.getItemAt(a,b);return d},getMobAt:function(a,b){var c=this.getEntityAt(a,b);return c&&c instanceof o?c:null},getPlayerAt:function(a,b){var c=this.getEntityAt(a,b);return c&&c instanceof q&&c!==this.player&&this.player.pvpFlag?c:null},getNpcAt:function(a,b){var c=this.getEntityAt(a,b);return c&&c instanceof p?c:null},getChestAt:function(a,b){var c=this.getEntityAt(a,b);return c&&c instanceof s?c:null},getItemAt:function(a,b){if(this.map.isOutOfBounds(a,b)||!this.itemGrid)return null;var c=this.itemGrid[b][a],d=null;_.size(c)>0&&(_.each(c,function(a){Types.isExpendableItem(a.kind)&&(d=a)}),d||(d=c[_.keys(c)[0]]));return d},isEntityAt:function(a,b){return!_.isNull(this.getEntityAt(a,b))},isMobAt:function(a,b){return!_.isNull(this.getMobAt(a,b))},isPlayerAt:function(a,b){return!_.isNull(this.getPlayerAt(a,b))},isItemAt:function(a,b){return!_.isNull(this.getItemAt(a,b))},isNpcAt:function(a,b){return!_.isNull(this.getNpcAt(a,b))},isChestAt:function(a,b){return!_.isNull(this.getChestAt(a,b))},findPath:function(a,b,c,d){var e=this,f=this.pathingGrid;path=[],isPlayer=a===this.player;if(this.map.isColliding(b,c))return path;this.pathfinder&&a?(d&&_.each(d,function(a){e.pathfinder.ignoreEntity(a)}),path=this.pathfinder.findPath(f,a,b,c,!1),d&&this.pathfinder.clearIgnoreList()):log.error("Error while finding the path to "+b+", "+c+" for "+a.id);return path},togglePathingGrid:function(){this.debugPathing?this.debugPathing=!1:this.debugPathing=!0},toggleDebugInfo:function(){this.renderer&&this.renderer.isDebugInfoVisible?this.renderer.isDebugInfoVisible=!1:this.renderer.isDebugInfoVisible=!0},movecursor:function(){var a=this.getMouseGridPosition(),b=a.x,c=a.y;if(this.player&&!this.renderer.mobile&&!this.renderer.tablet){this.hoveringCollidingTile=this.map.isColliding(b,c),this.hoveringPlateauTile=this.player.isOnPlateau?!this.map.isPlateau(b,c):this.map.isPlateau(b,c),this.hoveringMob=this.isMobAt(b,c),this.hoveringPlayer=this.isPlayerAt(b,c),this.hoveringItem=this.isItemAt(b,c),this.hoveringNpc=this.isNpcAt(b,c),this.hoveringChest=this.isChestAt(b,c);if(this.hoveringMob||this.hoveringPlayer||this.hoveringNpc||this.hoveringChest){var d=this.getEntityAt(b,c);this.player.showTarget(d),!d.isHighlighted&&this.renderer.supportsSilhouettes&&(this.lastHovered&&this.lastHovered.setHighlight(!1),this.lastHovered=d,d.setHighlight(!1))}else this.lastHovered&&(this.lastHovered.setHighlight(!1),this.lastHovered=null)}},click:function(){var a=this.getMouseGridPosition(),b;this.textWindowHandler.textWindowOn&&(this.textWindowHandler.close(),this.closeItemInfo());if(a.x===this.camera.gridX+this.camera.gridW-2&&a.y===this.camera.gridY+this.camera.gridH-1)this.player.inventory[0]&&this.menu.clickInventory0();else{if(a.x===this.camera.gridX+this.camera.gridW-1&&a.y===this.camera.gridY+this.camera.gridH-1){this.player.inventory[1]&&this.menu.clickInventory1();return}if(this.menu.inventoryOn){var c;if(this.menu.inventoryOn==="inventory0")c=0;else if(this.menu.inventoryOn==="inventory1")c=1;else return;if((a.x===this.camera.gridX+this.camera.gridW-2||a.x===this.camera.gridX+this.camera.gridW-1)&&a.y==this.camera.gridY+this.camera.gridH-4){this.client.sendInventory("armor",c),this.player.equipFromInventory("armor",c,this.sprites),this.equipment_callback&&this.equipment_callback(),this.menu.close();return}if((a.x===this.camera.gridX+this.camera.gridW-2||a.x===this.camera.gridX+this.camera.gridW-1)&&a.y==this.camera.gridY+this.camera.gridH-3){this.client.sendInventory("avatar",c),this.player.equipFromInventory("avatar",c,this.sprites),this.menu.close();return}if(a.x!==this.camera.gridX+this.camera.gridW-2&&a.x!==this.camera.gridX+this.camera.gridW-1||a.y!=this.camera.gridY+this.camera.gridH-2)this.menu.close();else{this.client.sendInventory("empty",c),this.player.makeEmptyInventory(c),this.menu.close();return}}else this.menu.close();if(a.x===this.previousClickPosition.x&&a.y===this.previousClickPosition.y)return;this.previousClickPosition=a,this.started&&this.player&&!this.isZoning()&&!this.isZoningTile(this.player.nextGridX,this.player.nextGridY)&&!this.player.isDead&&!this.hoveringCollidingTile&&!this.hoveringPlateauTile&&(b=this.getEntityAt(a.x,a.y),b instanceof o||b instanceof q&&b!==this.player&&this.player.pvpFlag?this.makePlayerAttack(b):b instanceof n?this.makePlayerGoToItem(b):b instanceof p?this.player.isAdjacentNonDiagonal(b)===!1?this.makePlayerTalkTo(b):this.makeNpcTalk(b):b instanceof s?this.makePlayerOpenChest(b):this.makePlayerGoTo(a.x,a.y))}},isMobOnSameTile:function(a,b,c){var d=b||a.gridX,e=c||a.gridY,f=this.entityGrid[e][d],g=!1;_.each(f,function(b){b instanceof o&&b.id!==a.id&&(g=!0)});return g},getFreeAdjacentNonDiagonalPosition:function(a){var b=this,c=null;a.forEachAdjacentNonDiagonalPosition(function(a,d,e){!c&&!b.map.isColliding(a,d)&&!b.isMobAt(a,d)&&(c={x:a,y:d,o:e})});return c},tryMovingToADifferentTile:function(a){var b=a,c=a.target;if(b&&c&&c instanceof q){if(!c.isMoving()&&b.getDistanceToEntity(c)===0){var d;this.map.isColliding(c.gridX,c.gridY-1)?this.map.isColliding(c.gridX,c.gridY+1)?this.map.isColliding(c.gridX-1,c.gridY)?this.map.isColliding(c.gridX+1,c.gridY)||(d={x:c.gridX+1,y:c.gridY,o:c.orientation}):d={x:c.gridX-1,y:c.gridY,o:c.orientation}:d={x:c.gridX,y:c.gridY+1,o:c.orientation}:d={x:c.gridX,y:c.gridY-1,o:c.orientation};if(d){b.previousTarget=c,b.disengage(),b.idle(),this.makeCharacterGoTo(b,d.x,d.y),c.adjacentTiles[d.o]=!0;return!0}}if(!c.isMoving()&&b.isAdjacentNonDiagonal(c)&&this.isMobOnSameTile(b)){var d=this.getFreeAdjacentNonDiagonalPosition(c);if(d&&!c.adjacentTiles[d.o]){if(this.player.target&&b.id===this.player.target.id)return!1;b.previousTarget=c,b.disengage(),b.idle(),this.makeCharacterGoTo(b,d.x,d.y),c.adjacentTiles[d.o]=!0;return!0}}}return!1},onCharacterUpdate:function(a){var b=this.currentTime,c=this;if(a.previousTarget&&!a.isMoving()&&a instanceof o){var d=a.previousTarget;if(this.getEntityById(d.id)){a.previousTarget=null,this.createAttackLink(a,d);return}}if(a.isAttacking()&&(!a.previousTarget||a.id===this.playerId)){var e=this.tryMovingToADifferentTile(a);a.canAttack(b)?e||(a.hasTarget()&&a.getOrientationTo(a.target)!==a.orientation&&a.lookAtTarget(),a.hit(),a.id===this.playerId&&this.client.sendHit(a.target),a instanceof q&&this.camera.isVisible(a)&&this.audioManager.playSound("hit"+Math.floor(Math.random()*2+1)),a.hasTarget()&&a.target.id===this.playerId&&this.player&&!this.player.invincible&&this.client.sendHurt(a)):!(a.hasTarget()&&a.isDiagonallyAdjacent(a.target)&&a.target instanceof q&&!a.target.isMoving())}},isZoningTile:function(a,b){var c=this.camera;a=a-c.gridX,b=b-c.gridY;return a===0||b===0||a===c.gridW-1||b===c.gridH-1?!0:!1},getZoningOrientation:function(a,b){var c="",d=this.camera;a=a-d.gridX,b=b-d.gridY,a===0?c=Types.Orientations.LEFT:b===0?c=Types.Orientations.UP:a===d.gridW-1?c=Types.Orientations.RIGHT:b===d.gridH-1&&(c=Types.Orientations.DOWN);return c},startZoningFrom:function(a,b){this.zoningOrientation=this.getZoningOrientation(a,b);if(this.renderer.mobile||this.renderer.tablet){var c=this.zoningOrientation,d=this.camera,e=this.renderer.tilesize,a=d.x,b=d.y,f=(d.gridW-2)*e,g=(d.gridH-2)*e;if(c===Types.Orientations.LEFT||c===Types.Orientations.RIGHT)a=c===Types.Orientations.LEFT?d.x-f:d.x+f;else if(c===Types.Orientations.UP||c===Types.Orientations.DOWN)b=c===Types.Orientations.UP?d.y-g:d.y+g;d.setPosition(a,b),this.renderer.clearScreen(this.renderer.context),this.endZoning(),this.forEachVisibleEntityByDepth(function(a){a.setDirty()})}else this.currentZoning=new l;this.bubbleManager.clean(),this.client.sendZone()},enqueueZoningFrom:function(a,b){this.zoningQueue.push({x:a,y:b}),this.zoningQueue.length===1&&this.startZoningFrom(a,b)},endZoning:function(){this.currentZoning=null,this.resetZone(),this.zoningQueue.shift();if(this.zoningQueue.length>0){var a=this.zoningQueue[0];this.startZoningFrom(a.x,a.y)}},isZoning:function(){return!_.isNull(this.currentZoning)},resetZone:function(){this.bubbleManager.clean(),this.initAnimatedTiles(),this.renderer.renderStaticCanvases()},resetCamera:function(){this.camera.focusEntity(this.player),this.resetZone()},say:function(a){this.chathandler.processSendMessage(a)||this.client.sendChat(a)},createBubble:function(a,b){this.bubbleManager.create(a,b,this.currentTime)},destroyBubble:function(a){this.bubbleManager.destroyBubble(a)},assignBubbleTo:function(a){var b=this.bubbleManager.getBubbleById(a.id);if(b){var c=this.renderer.scale,d=16*c,e=(a.x-this.camera.x)*c,f=parseInt(b.element.css("width"))+24,g=f/2-d/2,h,i;a instanceof p?h=0:c===2?this.renderer.mobile?h=0:h=15:h=12,i=(a.y-this.camera.y)*c-d*2-h,b.element.css("left",e-g+"px"),b.element.css("top",i+"px")}},restart:function(){log.debug("Beginning restart"),this.entities={},this.initEntityGrid(),this.initPathingGrid(),this.initRenderingGrid(),this.player=new h("player",this.username),this.player.pw=this.userpw,this.player.email=this.email,this.initPlayer(),this.app.initTargetHud(),this.started=!0,this.client.enable(),this.sendHello(this.player),(this.renderer.mobile||this.renderer.tablet)&&this.renderer.clearScreen(this.renderer.context),log.debug("Finished restart")},onGameStart:function(a){this.gamestart_callback=a},onDisconnect:function(a){this.disconnect_callback=a},onPlayerDeath:function(a){this.playerdeath_callback=a},onUpdateTarget:function(a){this.updatetarget_callback=a},onPlayerExpChange:function(a){this.playerexp_callback=a},onPlayerHealthChange:function(a){this.playerhp_callback=a},onPlayerHurt:function(a){this.playerhurt_callback=a},onPlayerEquipmentChange:function(a){this.equipment_callback=a},onNbPlayersChange:function(a){this.nbplayers_callback=a},onNotification:function(a){this.notification_callback=a},onPlayerInvincible:function(a){this.invincible_callback=a},resize:function(){var a=this.camera.x,b=this.camera.y,c=this.renderer.scale,d=this.renderer.getScaleFactor();this.renderer.rescale(d),this.camera=this.renderer.camera,this.camera.setPosition(a,b),this.renderer.renderStaticCanvases()},updateBars:function(){this.player&&this.playerhp_callback&&this.playerhp_callback(this.player.hitPoints,this.player.maxHitPoints)},updateExpBar:function(){if(this.player&&this.playerexp_callback){var a=this.player.experience-Types.expForLevel[this.player.level-1],b=Types.expForLevel[this.player.level]-Types.expForLevel[this.player.level-1];this.playerexp_callback(a,b)}},updateTarget:function(a,b,c,d){if(this.player.hasTarget()&&this.updatetarget_callback){var e=this.getEntityById(a);e.name=Types.getKindAsString(e.kind),e.points=b,e.healthPoints=c,e.maxHp=d,this.updatetarget_callback(e)}},getDeadMobPosition:function(a){var b;a in this.deathpositions&&(b=this.deathpositions[a],delete this.deathpositions[a]);return b},showNotification:function(a){this.notification_callback&&this.notification_callback(a)},removeObsoleteEntities:function(){var a=_.size(this.obsoleteEntities),b=this;a>0&&(_.each(this.obsoleteEntities,function(a){a.id!=b.player.id&&b.removeEntity(a)}),log.debug("Removed "+a+" entities: "+_.pluck(_.reject(this.obsoleteEntities,function(a){return a===b.player.id}),"id")),this.obsoleteEntities=null)},updateCursor:function(){this.movecursor(),this.updateCursorLogic()},updatePlateauMode:function(){this.map.isPlateau(this.player.gridX,this.player.gridY)?this.player.isOnPlateau=!0:this.player.isOnPlateau=!1},updatePlayerCheckpoint:function(){var a=this.map.getCurrentCheckpoint(this.player);if(a){var b=this.player.lastCheckpoint;if(!b||b&&b.id!==a.id)this.player.lastCheckpoint=a,this.client.sendCheck(a.id)}},forEachEntityAround:function(a,b,c,d){for(var e=a-c,f=a+c;e<=f;e+=1)for(var g=b-c,h=b+c;g<=h;g+=1)this.map.isOutOfBounds(e,g)||_.each(this.renderingGrid[g][e],function(a){d(a)})},checkOtherDirtyRects:function(a,b,c,d){var e=this.renderer;this.forEachEntityAround(c,d,2,function(c){if(!b||!b.id||c.id!==b.id)if(!c.isDirty){var d=e.getEntityBoundingRect(c);e.isIntersecting(a,d)&&c.setDirty()}}),b&&!b.hasOwnProperty("index")&&this.forEachAnimatedTile(function(b){if(!b.isDirty){var c=e.getTileBoundingRect(b);e.isIntersecting(a,c)&&(b.isDirty=!0)}});if(!this.drawTarget&&this.selectedCellVisible){var f=e.getTargetBoundingRect();e.isIntersecting(a,f)&&(this.drawTarget=!0,this.renderer.targetRect=f)}},keyDown:function(a){a!==49},toggleItemInfo:function(){this.itemInfoOn?this.itemInfoOn=!1:this.itemInfoOn=!0},closeItemInfo:function(){this.itemInfoOn=!1}});return z})